(()=>{"use strict";var e={11:(e,n,A)=>{A.d(n,{A:()=>B});var t=A(354),a=A.n(t),s=A(314),r=A.n(s),o=A(417),i=A.n(o),l=new URL(A(463),A.b),p=new URL(A(859),A.b),c=new URL(A(756),A.b),C=new URL(A(918),A.b),d=new URL(A(694),A.b),h=new URL(A(220),A.b),g=r()(a());g.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap);"]);var u=i()(l),m=i()(p),f=i()(c),b=i()(C),x=i()(d),y=i()(h);g.push([e.id,`@font-face{font-family:"Old Stamper";src:url(${u})}@font-face{font-family:"D Day Stencil";src:url(${m})}@keyframes animatedBackground{from{background-position:0 0}to{background-position:1000px 0}}@keyframes typing{from{width:0}to{width:100%}}@keyframes flicker{0%{opacity:.5}50%{opacity:.25}100%{opacity:.5}}*{margin:0;padding:0;box-sizing:border-box}img{-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}img[src*=svg]{height:50px}body{font-family:"Josefin Sans",sans-serif;height:100vh;width:100vw;background-image:url(${f});background-repeat:no-repeat;background-position:fixed;object-fit:cover;overflow:hidden;user-select:none;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px}body .home-btn,body .sound-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:32px;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:70%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;display:none;position:absolute;top:8px;z-index:3;border:0;outline:0;filter:invert(1)}body .home-btn img,body .sound-btn img{height:80%}body .home-btn:hover,body .sound-btn:hover{background-color:rgba(0,0,0,.0666666667);opacity:100%}body .home-btn:active,body .sound-btn:active{scale:.9}body .home-btn{left:8px}body .sound-btn{right:8px}body .sound-btn__icon{display:none}body .sound-btn__icon--active{display:block}.modal{overflow:hidden;position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%, -50%);user-select:none;padding:16px 24px;box-shadow:0 0 5px 3px rgba(0,0,0,.1333333333);background:#3886c7;background:radial-gradient(circle, rgba(39, 108, 165, 0.8666666667) 30%, rgba(33, 91, 139, 0.8666666667) 100%);border-radius:24px;border:none;outline:none}.modal::backdrop{background:url(${b}),rgba(0,0,0,.8666666667);background-position:0px 0px;background-repeat:repeat-x;animation:animatedBackground 16s linear infinite;opacity:10%}.home.home--active{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px}.place--active,.game--active{display:grid !important}.home{display:none;height:500px;width:650px}.home .logo{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px;filter:invert(1) drop-shadow(0px 0px 3px rgba(0, 0, 0, 0.4666666667));opacity:.9;user-select:none}.home .logo__icon{opacity:.85}.home .logo__icon--1{height:72px}.home .logo__icon--2{height:56px}.home .logo__title{font-family:"Old Stamper","Josefin Sans",sans-serif;font-size:48px}.home .players{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:16px}.home .players__vs{opacity:90%;color:#fff;font-size:64px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 3px rgba(0,0,0,.7333333333);user-select:none}.home .players .player{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;box-shadow:0 0 7px 0 rgba(0,0,0,.3333333333);padding:24px 32px;border-radius:16px;background:radial-gradient(circle, rgba(142, 183, 245, 0.4666666667) 0%, rgba(108, 145, 199, 0.4666666667) 150%)}.home .players .player__avatar{height:168px;border-radius:50%;box-shadow:0 0 2px 1px rgba(0,0,0,.4666666667);margin-bottom:4px}.home .players .player__name{max-width:160px;border:none;outline:none;font-size:20px;text-wrap:nowrap;overflow:hidden;padding:4px 6px 2px 6px;border-radius:4px;margin-bottom:8px;background-color:rgba(0,0,0,0);transition:background-color .1s ease}.home .players .player__name:focus{background-color:rgba(255,255,255,.8);box-shadow:0 0 2px 1px rgba(0,0,0,.2666666667)}.home .players .player__options{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px}.home .players .player__options input[type=radio]{display:none}.home .players .player__options input[type=radio]:checked+label{background-color:#202074;opacity:90%}.home .players .player__options label{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:100%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:4px 8px;border-radius:8px;opacity:70%;border:2px rgba(32,32,116,.8) solid;color:#fff;font-size:.9rem}.home .players .player__options label img{height:80%}.home .players .player__options label:hover{background-color:rgba(32,32,116,.8);opacity:100%}.home .players .player__options label:active{scale:.9}.home .players .player:has(.player__options input[value=true]:checked) .player__avatar--human,.home .players .player:has(.player__options input[value=false]:checked) .player__avatar--ai{display:none}.home .play-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:.9;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;margin-top:12px;padding:18px 16px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:#61381d;border:none;outline:none;color:#fff;font-size:1.8rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.home .play-btn img{height:80%}.home .play-btn:hover{background-color:#61381d;opacity:100%}.home .play-btn:active{scale:.9}.place{display:none;align-content:center;align-items:center;justify-content:center;justify-items:center;grid-template:"top top" 50px "btns ships" 50px "board ships" 1fr "bottom bottom" 70px/1fr 250px;height:510px;width:570px;padding-left:32px;margin-bottom:-12px}.place__heading{grid-area:top;color:#eee;font-size:2.4rem;letter-spacing:3px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.place__btns{grid-area:btns;display:flex;flex-direction:row;justify-content:start;align-items:center;gap:12px;padding-top:8px}.place__btns>*{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:fit-content;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:85%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;box-shadow:0 0 2px 0px rgba(0,0,0,.8666666667);background-color:#2d2261;padding:6px 8px;gap:6px;color:#fff;font-weight:bold}.place__btns>* img{height:100%}.place__btns>*:hover{background-color:#3f3381;opacity:100%}.place__btns>*:active{scale:.9}.place__btns>* img{height:24px;filter:invert(0.9)}.place__btns>* p{padding-top:2px}.place__btns .shuffle-btn__icon{height:18px}.place__btns .rotate-btn__icon{display:none}.place__btns .rotate-btn__icon--active{display:block}.place .panel-ships{grid-area:ships;background-color:#48aae2;border-radius:12px;overflow:hidden;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .panel-ships .panel-ship:not(:last-child)::after{content:"";grid-column:1/-1;position:absolute;bottom:-2px;background-color:rgba(0,8,53,.3333333333);height:2px;width:85%}.place .panel-ships .panel-ship--selected img{opacity:0;cursor:default}.place .board{grid-area:board;--cell-size: 32px;background-color:#3f82da;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .board__map{cursor:default}.place .board__map .cell{opacity:.6}.place .board__map .cell .state{display:none}.place .board__map .cell .fog{display:none}.place .board__ships{pointer-events:all;cursor:default}.place .board__ships .ship{filter:brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667));cursor:pointer !important}.place .board__ships .ship--hidden{display:none}.place .board__ships .ship--selected{animation:1.5s flicker infinite;animation-timing-function:ease;color:gree;filter:brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%)}.place .board__ships .ship--allowed{filter:brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%)}.place .place-btn{grid-area:bottom;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:max-content;height:min-content;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:.8;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:8px 12px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:#6e3a17;border:none;outline:none;color:#fff;font-size:1.6rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.place .place-btn img{height:0%}.place .place-btn:hover{background-color:#6e3a17;opacity:100%}.place .place-btn:active{scale:.9}.place .place-btn:disabled:hover{background-color:#6e3a17;opacity:.8;cursor:default}.place .place-btn:disabled:active{scale:1}.game{display:grid;display:none;grid-template:"message message" 60px "area0 area1" 1fr/1fr 1fr;justify-content:center;justify-items:center;align-content:center;align-items:center;width:100%;height:100%;padding:0 24px}.game--over .board{cursor:default !important}.game--over .board .board__coor-lines{display:none !important}.game--over .board .fog{opacity:0 !important}.game--over .board .ship{display:block !important}.game .message-box{grid-area:message;height:50px;width:500px;margin-top:48px;padding:16px;opacity:.9;background:#0b2879;background:radial-gradient(circle, rgba(61, 87, 156, 0.7333333333) 0%, rgba(51, 71, 126, 0.7333333333) 100%);border:2px solid #020231;border-radius:16px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .message-box p{color:#ddd;overflow:hidden;white-space:nowrap;font-weight:bold;animation:typing 3s forwards}.game .area{display:grid;justify-items:center;justify-self:stretch}.game .area--0{grid-area:area0;grid-template:"name ." 50px "board ships" 1fr/1fr 150px}.game .area--0 .panel-ships{margin-right:8px}.game .area--1{grid-area:area1;grid-template:". name" 50px "ships board" 1fr/150px 1fr}.game .area--1 .panel-ships{margin-left:8px}.game .area--1 .panel-ship{transform:scaleX(-1)}.game .area--turn .board:hover{cursor:default !important}.game .area--turn .area__name{color:#081f4e;text-shadow:none;background-color:#ccc;border-radius:12px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .area--pov .fog{opacity:0 !important}.game .area--pov .board:hover{cursor:default !important}.game .area:not(.game .area--pov) .ship:not(.ship--sunk){display:none !important}.game .area--vs-ai:not(.area--turn) .board__coor-lines,.game .area--vs-human:not(.area--turn) .board:hover .board__coor-lines{display:block}.game .area--vs-ai .board__coor-lines{--speed: 2.0s}.game .area--vs-ai .board__coor-lines__row,.game .area--vs-ai .board__coor-lines__col,.game .area--vs-ai .board__coor-lines__target{transition:top var(--speed) ease,left var(--speed) ease}.game .area__name{grid-area:name;justify-self:center;align-self:end;padding:2px 6px;margin-bottom:8px;width:max-content;color:#ccc;font-size:1.3rem;letter-spacing:2px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.game .area .board{grid-area:board;border:1px solid rgba(255,255,255,.2666666667);--cell-size: 45px}.game .area .panel-ships{display:flex;flex-direction:column;justify-content:center;align-items:stretch;gap:0px;grid-area:ships}.game .area .panel-ships .panel-ship{height:48px;opacity:1;transition:opacity .3s ease}.game .area .panel-ships .panel-ship img[src*=Carrier]{width:120px}.game .area .panel-ships .panel-ship img[src*=Battleship]{width:96px}.game .area .panel-ships .panel-ship img[src*=Destroyer]{width:72px}.game .area .panel-ships .panel-ship img[src*=Submarine]{width:72px}.game .area .panel-ships .panel-ship img[src*="Patrol Boat"]{width:48px}.game .area .panel-ships .panel-ship img{filter:invert(0.8) drop-shadow(2px 2px 3px #222);cursor:default}.game .area .panel-ships .panel-ship--sunk{opacity:.5}.panel-ships{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0px}.panel-ships .panel-ship{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;position:relative;height:72px;padding:8px 12px}.panel-ships .panel-ship img[src*=Carrier]{width:150px}.panel-ships .panel-ship img[src*=Battleship]{width:120px}.panel-ships .panel-ship img[src*=Destroyer]{width:90px}.panel-ships .panel-ship img[src*=Submarine]{width:90px}.panel-ships .panel-ship img[src*="Patrol Boat"]{width:60px}.panel-ships .panel-ship h3{align-self:start;font-size:.9rem;letter-spacing:-0.3px;color:#020231}.panel-ships .panel-ship img{align-self:end;transition:scale .3s ease,filter .3s ease;filter:auto;cursor:pointer}.panel-ships .panel-ship img:hover{scale:1.05;filter:brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%)}.board{position:relative;box-sizing:content-box;--cell-size: 50px;width:calc(var(--cell-size)*10);height:calc(var(--cell-size)*10)}.board:hover{cursor:url(${x}) 16 16,pointer}.board__map{width:100%;height:100%;display:grid;grid-template:repeat(10, 1fr)/repeat(10, 1fr)}.board__map .cell{position:relative;border:1px solid rgba(255,255,255,.2666666667)}.board__map .cell__state{z-index:2;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.board__map .cell__state[src*=cross]{filter:invert(1);opacity:.4;height:calc(.8*var(--cell-size))}.board__map .cell__state[src*=hit],.board__map .cell__state[src*=sunk]{height:calc(.4*var(--cell-size))}.board__map .cell__state[src*=hit]{opacity:.8;filter:drop-shadow(0 0 3px rgba(255, 255, 255, 0.4666666667))}.board__map .cell__state[src*=sunk]{opacity:.5}.board__map .cell .fog{--mask-top: linear-gradient(to top, #000000ff 0%, #000000ff 100%);--mask-left: linear-gradient(to left, #000000ff 0%, #000000ff 100%);--mask-bottom: linear-gradient(to bottom, #000000ff 0%, #000000ff 100%);--mask-right: linear-gradient(to right, #000000ff 0%, #000000ff 100%);height:var(--cell-size);width:var(--cell-size);background-image:url(${y});position:absolute;overflow:hidden;z-index:3;pointer-events:none;opacity:20%;mask-image:var(--mask-top),var(--mask-left),var(--mask-bottom),var(--mask-right);mask-composite:intersect}.board__map .cell .fog--top{--mask-top: linear-gradient(to top, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--left{--mask-left: linear-gradient(to left, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--bottom{--mask-bottom: linear-gradient(to bottom, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--right{--mask-right: linear-gradient(to right, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--hidden{opacity:0}.board__ships{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.board__ships .ship{--row: 0;--col: 0;--length: 2;--isVertical: true;--occupied-size: calc(var(--cell-size) * var(--length));--ship-size: calc(0.95 * var(--occupied-size));position:absolute;top:calc(var(--cell-size)*var(--row));left:calc(var(--cell-size)*var(--col));height:var(--ship-size);opacity:.85;overflow:hidden;filter:brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667))}.board__ships .ship::after{content:"";width:100%;height:100%}.board__ships .ship--vertical{transform:translateX(calc(var(--cell-size) / 2 - 50%)) translateY(calc(var(--occupied-size) / 2 - 50%))}.board__ships .ship--horizontal{transform:translateY(calc(var(--cell-size) / 2 - 50%)) translateX(calc(var(--occupied-size) / 2 - 50%)) rotate(90deg)}.board__ships .ship--sunk{opacity:.3;filter:contrast(1.1) drop-shadow(0 0 0px rgba(49, 172, 255, 0.8));transition:opacity 20s ease,filter 1s ease}.board__ships .ship--hover{--ship-size: calc(1.03 * var(--occupied-size));filter:brightness(0.9) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667))}.board__coor-lines{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:4;pointer-events:none;--row: 0;--col: 0;--thickness: calc(1 * var(--cell-size));--dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--length: calc(var(--cell-size) * 10)}.board__coor-lines__row,.board__coor-lines__col,.board__coor-lines__target{position:absolute;background-color:#18a4e6;transition:top .05s ease,left .05s ease}.board__coor-lines__row{opacity:20%;top:var(--dist-row);left:0;width:var(--length);height:var(--thickness)}.board__coor-lines__col{opacity:20%;top:0;left:var(--dist-col);width:var(--thickness);height:var(--length)}.board__coor-lines__target{opacity:20%;top:var(--dist-row);left:var(--dist-col);width:var(--thickness);height:var(--thickness)}`,"",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"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",sourcesContent:["@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');\n\n@font-face {\n  font-family: 'Old Stamper';\n  src: url('./assets/fonts/old_stamper.ttf');\n}\n\n@font-face {\n  font-family: 'D Day Stencil';\n  src: url('./assets/fonts/D Day Stencil.ttf');\n}\n\n@mixin flex-container($direction: row, $justify: center, $align: center, $gap: 0px) {\n  display: flex;\n  flex-direction: $direction;\n  justify-content: $justify;\n  align-items: $align;\n  gap: $gap;\n}\n\n@mixin box-shadow($color: #000000aa, $top: 0, $left: 0, $blur: 10px, $spread: 0px) {\n  box-shadow: $top $left $blur $spread $color;\n}\n\n@mixin button($width: 24px, $height: 24px, $image-size: 80%, $hover-bg: #00000033, $start-opacity: 100%) {\n  @include flex-container;\n  width: $width;\n  height: $height;\n\n  border-radius: 8px;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  opacity: $start-opacity;\n  scale: 1;\n\n  transition: background-color 0.3s ease, scale 0.3s ease, opacity 0.3s ease;\n  cursor: pointer;\n\n  img {\n    height: $image-size;\n  }\n\n  &:hover {\n    background-color: $hover-bg;\n    opacity: 100%;\n  }\n\n  &:active {\n    scale: 0.9;\n  }\n}\n\n@keyframes animatedBackground {\n  from {\n    background-position: 0 0;\n  }\n  to {\n    background-position: 1000px 0;\n  }\n}\n\n@keyframes typing {\n  from { width: 0 }\n  to { width: 100% }\n}\n\n@keyframes flicker {\n  0%   { opacity:0.5; }\n  50%  { opacity:0.25; }\n  100% { opacity:0.5; }\n}\n\n\n$ship-relative-sizes: (\n  'Carrier': 5,\n  'Battleship': 4,\n  'Destroyer': 3,\n  'Submarine': 3,\n  'Patrol Boat': 2,\n);\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nimg {\n  -webkit-user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n  &[src*=svg] {\n    height: 50px;\n  }\n}\n\nbody {\n  font-family: \"Josefin Sans\", sans-serif;\n  height: 100vh;\n  width: 100vw;\n\n  background-image: url('./assets/images/background.png');\n  background-repeat: no-repeat;\n  background-position: fixed;\n  object-fit: cover;\n  overflow: hidden;\n  user-select: none;\n\n  @include flex-container;\n\n  .home-btn,\n  .sound-btn {\n    @include button(32px, 32px, 80%, #00000011, 70%);\n    display: none;\n\n    position: absolute;\n    top: 8px;\n    z-index: 3;\n\n    border: 0;\n    outline: 0;\n    filter: invert(1);\n  }\n\n  .home-btn {\n    left: 8px;\n  }\n\n  .sound-btn {\n    right: 8px;\n\n    &__icon {\n      display: none;\n    }\n\n    &__icon--active {\n      display: block;\n    }\n  }\n}\n\n.modal {\n  overflow: hidden;\n  position: absolute;\n  z-index: 2;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  user-select: none;\n\n  padding: 16px 24px;\n\n  @include box-shadow(#00000022, 0, 0, 5px, 3px);\n  background: rgb(56,134,199);\n  background: radial-gradient(circle, #276ca5dd 30%, #215b8bdd 100%);\n  border-radius: 24px;\n  border: none;\n  outline: none;\n\n  &::backdrop {\n    background: url('./assets/images/fog.png'), #000000dd;\n    background-position: 0px 0px;\n    background-repeat: repeat-x;\n    animation: animatedBackground 16s linear infinite;\n\n    opacity: 10%;\n  }\n}\n\n.home.home--active {\n  @include flex-container(column, center, center, 12px);\n}\n\n.place--active,\n.game--active {\n  display: grid !important;\n}\n\n.home {\n  display: none;\n\n  height: 500px;\n  width: 650px;\n\n  .logo {\n    @include flex-container(row, center, center, 12px);\n\n    filter: invert(1) drop-shadow(0px 0px 3px #00000077);;\n    opacity: 0.9;\n    user-select: none;\n\n    &__icon {\n      opacity: 0.85;\n\n      &--1 {\n        height: 72px;\n      }\n      \n      &--2 {\n        height: 56px;\n      }\n    }\n\n    &__title {\n      font-family: \"Old Stamper\", \"Josefin Sans\", sans-serif;\n      font-size: 48px;\n\n    }\n  }\n\n  .players {\n    @include flex-container(row, center, center, 16px);\n\n    &__vs {\n      opacity: 90%;\n      color: white;\n      font-size: 64px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 3px #000000bb;\n      user-select: none;\n    }\n\n    .player {\n      @include flex-container(column, center, center, 8px);\n      @include box-shadow(#00000055, 0, 0, 7px, 0);\n\n      padding: 24px 32px;\n      border-radius: 16px;\n\n      background: radial-gradient(circle, #8eb7f577 0%, #6c91c777 150%);\n\n      &__avatar {\n        height: 168px;\n        border-radius: 50%;\n\n        @include box-shadow(#00000077, 0, 0, 2px, 1px);\n        margin-bottom: 4px;\n      }\n\n      &__name {\n        max-width: 160px;\n        border: none;\n        outline: none;\n        \n        font-size: 20px;\n        text-wrap: nowrap;\n        overflow: hidden;\n\n        padding: 4px 6px 2px 6px;\n        border-radius: 4px;\n        margin-bottom: 8px;\n\n        background-color: transparent;\n        transition: background-color 0.1s ease;\n\n        &:focus {\n          background-color: #ffffffcc;\n          @include box-shadow(#00000044, 0, 0, 2px, 1px);\n        }\n      }\n\n      &__options {\n        @include flex-container(row, center, center, 12px);\n\n        input[type=radio] {\n          display: none;\n        }\n\n        input[type=radio]:checked + label {\n          background-color: #202074;\n          opacity: 90%;\n        }\n\n        label {\n          @include button(min-content, 36px, 80%, #202074cc);\n\n          padding: 4px 8px;\n          border-radius: 8px;\n          \n          opacity: 70%;\n          border: 2px #202074cc solid;\n\n          color: white;\n          font-size: 0.9rem;\n        }\n      }\n\n      // If one option in human or AI is checked, hide the other avatar\n      &:has(.player__options input[value=true]:checked) .player__avatar--human,\n      &:has(.player__options input[value=false]:checked) .player__avatar--ai {\n        display: none;\n      }\n    }\n  }\n\n  .play-btn {\n    @include button(min-content, 36px, 80%, #61381d, 0.9);\n\n    margin-top: 12px;\n    padding: 18px 16px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #61381d;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.8rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  }\n}\n\n.place {\n  display: none;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  justify-items: center;\n  grid-template: \n            \"top top\" 50px\n            \"btns ships\" 50px \n            \"board ships\" 1fr\n            \"bottom bottom\" 70px / 1fr 250px;\n\n\n  height: 510px;\n  width: 570px;\n  padding-left: 32px;\n  margin-bottom: -12px;\n\n  &__heading {\n    grid-area: top;\n\n    color: #eee;\n    font-size: 2.4rem;\n    letter-spacing: 3px;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n    text-shadow: 0 0 7px #00000099;\n  }\n\n  &__btns {\n    grid-area: btns;\n\n    @include flex-container(row, start, center, 12px);\n    padding-top: 8px;\n\n    & > * {\n      @include button(fit-content, 32px, 100%, #3f3381, 85%);\n      @include box-shadow(#000000dd, 0, 0, 2px);\n      background-color: #2d2261;\n      padding: 6px 8px;\n      gap: 6px;\n\n      color: white;\n      font-weight: bold;\n\n      img {\n        height: 24px;\n        filter: invert(0.9);\n      }\n\n      p {\n        padding-top: 2px;\n      }\n    }\n\n    .shuffle-btn__icon {\n      height: 18px;\n    }\n\n    .rotate-btn__icon {\n      display: none;\n\n      &--active {\n        display: block;\n      }\n    }\n  }\n\n  .panel-ships {\n    grid-area: ships;\n    \n    background-color: #48aae2;\n    border-radius: 12px;\n    overflow: hidden;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n    .panel-ship:not(:last-child)::after {\n      content: '';\n      grid-column: 1 / -1;\n\n      position: absolute;\n      bottom: -2px;\n\n      background-color: #00083555;\n      height: 2px;\n      width: 85%;\n    }\n    \n    .panel-ship--selected img {\n      opacity: 0;\n      cursor: default;\n    }\n  }\n\n  .board {\n    grid-area: board;\n\n    --cell-size: 32px;\n    \n    background-color: #3f82da;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n\n    &__map {\n      cursor: default;\n\n      .cell {\n        opacity: 0.6;\n\n        .state {\n          display: none;\n        }\n\n        .fog {\n          display: none;\n        }\n      }\n\n    }\n\n    &__ships {\n      pointer-events: all;\n      cursor: default;\n\n      .ship {\n        filter: brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n        cursor: pointer !important;\n        \n        &--hidden {\n          display: none;\n        }\n\n        &--selected {\n          animation: 1.5s flicker infinite;\n          animation-timing-function: ease;\n          color: gree;\n          filter: brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%);\n        }\n\n        &--allowed {\n          filter: brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%);\n        }\n      }\n    }\n  }\n\n  .place-btn {\n    grid-area: bottom;\n\n    @include button(max-content, min-content, 0%, #6e3a17, 0.8);\n\n    padding: 8px 12px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #6e3a17;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.6rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  \n    &:disabled {\n      &:hover {\n        background-color: #6e3a17;\n        opacity: 0.8;\n        cursor: default;\n      }\n\n      &:active {\n        scale: 1;\n      }\n    }\n  }\n}\n\n.game {\n  display: grid;\n  display: none;\n  grid-template: \n    \"message message\" 60px\n    \"area0 area1\" 1fr / 1fr 1fr;\n\n  justify-content: center;\n  justify-items: center;\n  align-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n  padding: 0 24px;\n\n  &--over {\n    .board {\n      cursor: default !important;\n\n      .board__coor-lines {\n        display: none !important;\n      }\n\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .ship {\n        display: block !important;\n      }\n    }\n  }\n\n  .message-box {\n    grid-area: message;\n\n    height: 50px;\n    width: 500px;\n    margin-top: 48px;\n    padding: 16px;\n\n    opacity: 0.9;\n    background: #0b2879;\n    background: radial-gradient(circle, #3d579cbb 0%, #33477ebb 100%);\n    border: 2px solid #020231;\n    border-radius: 16px;\n    @include box-shadow(#000000aa, 0, 0, 3px);\n\n    p {\n      color: #ddd;\n      overflow: hidden;\n      white-space: nowrap;\n      font-weight: bold;\n      animation: typing 3s forwards;\n    }\n  }\n\n  .area {\n    display: grid;\n    justify-items: center;\n    justify-self: stretch;\n\n    &--0 {\n      grid-area: area0;\n      grid-template: \n        \"name .\" 50px\n        \"board ships\" 1fr / 1fr 150px;\n      \n      .panel-ships {\n        margin-right: 8px;\n      }\n    }\n\n    &--1 {\n      grid-area: area1;\n      grid-template: \n        \". name\" 50px\n        \"ships board\" 1fr / 150px 1fr;\n\n      .panel-ships {\n        margin-left: 8px;\n      }\n      \n      .panel-ship {\n        transform: scaleX(-1);\n      }\n    }\n\n    &--turn { \n      .board:hover {\n        cursor: default !important;\n      }\n\n      .area__name {\n        color: #081f4e;\n        text-shadow: none;\n        background-color: #ccc;\n        border-radius: 12px;\n        @include box-shadow(#000000aa, 0, 0, 3px);\n      }\n    }\n\n    &--pov {\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .board:hover {\n        cursor: default !important;\n      }\n    }\n\n    &:not(&--pov) {\n      .ship:not(.ship--sunk) {\n        display: none !important;\n      }\n    }\n\n    &--vs-ai:not(.area--turn) .board__coor-lines, \n    &--vs-human:not(.area--turn) .board:hover .board__coor-lines {\n      display: block;\n    }\n\n    &--vs-ai .board__coor-lines {\n      --speed: 2.0s;\n\n      &__row,\n      &__col,\n      &__target {\n        transition: top var(--speed) ease, left var(--speed) ease;\n      }\n    }\n\n    &__name {\n      grid-area: name;\n\n      justify-self: center;\n      align-self: end;\n      padding: 2px 6px;\n      margin-bottom: 8px;\n      width: max-content;\n\n      color: #ccc;\n      font-size: 1.3rem;\n      letter-spacing: 2px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 7px #00000099;\n    }\n\n    .board {\n      grid-area: board;\n\n      border: 1px solid #ffffff44;\n\n      --cell-size: 45px;\n    }\n\n    .panel-ships {\n      @include flex-container(column, center, stretch);\n      grid-area: ships;\n\n      .panel-ship {\n        height: 48px;\n        $ship-size: 24px;\n\n        opacity: 1;\n        transition: opacity 0.3s ease;\n    \n        @each $ship, $relative-size in $ship-relative-sizes {\n          img[src*=\"#{$ship}\"] {\n            width: $relative-size * $ship-size;\n          }\n        }\n\n        img {\n          filter: invert(0.8) drop-shadow(2px 2px 3px #222);\n          cursor: default;\n        }\n\n        &--sunk {\n          opacity: 0.5;\n        }\n      }\n    }\n  }\n}\n\n.panel-ships {\n  @include flex-container(column, start, stretch);\n\n  .panel-ship {\n    @include flex-container(column, center, center, 4px);\n\n    position: relative;\n    height: 72px;\n    padding: 8px 12px;\n    $ship-size: 30px;\n\n    @each $ship, $relative-size in $ship-relative-sizes {\n      img[src*=\"#{$ship}\"] {\n        width: $relative-size * $ship-size;\n      }\n    }\n\n    h3 {\n      align-self: start;\n      font-size: 0.9rem;\n      letter-spacing: -0.3px;\n      color: #020231;\n    }\n\n    img {\n      align-self: end;\n      transition: scale 0.3s ease, filter 0.3s ease;\n      filter: auto;\n      cursor: pointer;\n\n      &:hover {\n        scale: 1.05;\n        filter: brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%);\n      }\n    }\n  }\n}\n\n.board {\n  position: relative;\n  box-sizing: content-box;\n\n  --cell-size: 50px;\n\n  width: calc(var(--cell-size) * 10);\n  height: calc(var(--cell-size) * 10);\n\n  &:hover {\n    cursor: url('./assets/images/target-small.svg') 16 16, pointer;\n  }\n  \n  &__map {\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n\n    .cell {\n      position: relative;\n      border: 1px solid #ffffff44;\n\n      &__state {\n        z-index: 2;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateX(-50%) translateY(-50%);\n      }\n\n      &__state[src *= cross] {\n        filter: invert(1);\n        opacity: 0.4;\n        height: calc(0.8 * var(--cell-size));\n      }\n\n      &__state[src *= hit],\n      &__state[src *= sunk] {\n        height: calc(0.4 * var(--cell-size));\n      }\n\n      &__state[src *= hit] {\n        opacity: 0.8;\n        filter: drop-shadow(0 0 3px #ffffff77);\n      }\n\n      &__state[src *= sunk] {\n        opacity: 0.5;\n      }\n\n\n      .fog {\n        $directions: 'top', 'left', 'bottom', 'right';\n    \n        @each $direction in $directions {\n          --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 0%, #000000ff 100%);\n    \n          &--#{$direction} {\n            --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 60%, #00000000 100%);\n          }\n        }\n    \n        height: var(--cell-size);\n        width: var(--cell-size);\n        background-image: url(./assets/images/fog-small.png);\n        \n        position: absolute;\n        overflow: hidden;\n        z-index: 3;\n        pointer-events: none;\n        opacity: 20%;\n        mask-image: var(--mask-top), var(--mask-left), var(--mask-bottom), var(--mask-right);\n        mask-composite: intersect;\n\n        // transition: opacity 0.1s ease;\n\n        &--hidden {\n          opacity: 0;\n        }\n      }\n    }\n  }\n\n  &__ships {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    pointer-events: none;\n\n    .ship {\n      --row: 0;\n      --col: 0;\n      --length: 2;\n      --isVertical: true;\n\n      --occupied-size: calc(var(--cell-size) * var(--length));\n      --ship-size: calc(0.95 * var(--occupied-size));\n\n      position: absolute;\n      top: calc(var(--cell-size) * var(--row));\n      left: calc(var(--cell-size) * var(--col));\n      height: var(--ship-size);\n      \n      opacity: 0.85;\n      overflow: hidden;\n      filter: brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n\n      &::after {\n        content: '';\n        width: 100%;\n        height: 100%;\n      }\n\n      &--vertical {\n        transform: translateX(calc(var(--cell-size) / 2 - 50%))\n                   translateY(calc(var(--occupied-size) / 2 - 50%));\n\n      }\n      \n      &--horizontal {\n        transform: translateY(calc(var(--cell-size) / 2 - 50%))\n                   translateX(calc(var(--occupied-size) / 2 - 50%))\n                   rotate(90deg);\n      }\n\n      &--sunk {\n        opacity: 0.3;\n        filter: contrast(1.1) drop-shadow(0 0 0px #31acffcc);\n        transition: opacity 20s ease, filter 1s ease;\n      }\n\n      &--hover {\n        --ship-size: calc(1.03 * var(--occupied-size));\n        filter: brightness(0.9) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n      }\n    }\n  }\n\n  &__coor-lines {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 4;\n    pointer-events: none;\n\n    --row: 0;\n    --col: 0;\n    --thickness: calc(1 * var(--cell-size));\n    --dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --length: calc(var(--cell-size) * 10);\n\n    &__row,\n    &__col,\n    &__target {\n      position: absolute;\n      background-color: #18a4e6;\n      transition: top 0.05s ease, left 0.05s ease;\n    }\n\n    &__row {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: 0;\n\n      width: var(--length);\n      height: var(--thickness);\n    }\n\n    &__col {\n      opacity: 20%;\n\n      top: 0;\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--length);\n    }\n\n    &__target {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--thickness);\n    }\n  }\n}\n"],sourceRoot:""}]);const B=g},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var A="",t=void 0!==n[5];return n[4]&&(A+="@supports (".concat(n[4],") {")),n[2]&&(A+="@media ".concat(n[2]," {")),t&&(A+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),A+=e(n),t&&(A+="}"),n[2]&&(A+="}"),n[4]&&(A+="}"),A})).join("")},n.i=function(e,A,t,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(t)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);t&&r[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),A&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=A):p[2]=A),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),n.push(p))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var n=e[1],A=e[3];if(!A)return n;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(A)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),s="/*# ".concat(a," */");return[n].concat([s]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function A(e){for(var A=-1,t=0;t<n.length;t++)if(n[t].identifier===e){A=t;break}return A}function t(e,t){for(var s={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],p=s[l]||0,c="".concat(l," ").concat(p);s[l]=p+1;var C=A(c),d={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==C)n[C].references++,n[C].updater(d);else{var h=a(d,t);t.byIndex=o,n.splice(o,0,{identifier:c,updater:h,references:1})}r.push(c)}return r}function a(e,n){var A=n.domAPI(n);return A.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;A.update(e=n)}else A.remove()}}e.exports=function(e,a){var s=t(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<s.length;r++){var o=A(s[r]);n[o].references--}for(var i=t(e,a),l=0;l<s.length;l++){var p=A(s[l]);0===n[p].references&&(n[p].updater(),n.splice(p,1))}s=i}}},659:e=>{var n={};e.exports=function(e,A){var t=function(e){if(void 0===n[e]){var A=document.querySelector(e);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch(e){A=null}n[e]=A}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(A)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,A)=>{e.exports=function(e){var n=A.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(A){!function(e,n,A){var t="";A.supports&&(t+="@supports (".concat(A.supports,") {")),A.media&&(t+="@media ".concat(A.media," {"));var a=void 0!==A.layer;a&&(t+="@layer".concat(A.layer.length>0?" ".concat(A.layer):""," {")),t+=A.css,a&&(t+="}"),A.media&&(t+="}"),A.supports&&(t+="}");var s=A.sourceMap;s&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,A)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},859:(e,n,A)=>{e.exports=A.p+"src/assets/images/D Day Stencil..ttf"},463:(e,n,A)=>{e.exports=A.p+"src/assets/images/old_stamper..ttf"},756:(e,n,A)=>{e.exports=A.p+"src/assets/images/background..png"},220:(e,n,A)=>{e.exports=A.p+"src/assets/images/fog-small..png"},918:(e,n,A)=>{e.exports=A.p+"src/assets/images/fog..png"},694:(e,n,A)=>{e.exports=A.p+"src/assets/images/target-small..svg"}},n={};function A(t){var a=n[t];if(void 0!==a)return a.exports;var s=n[t]={id:t,exports:{}};return e[t](s,s.exports,A),s.exports}A.m=e,A.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return A.d(n,{a:n}),n},A.d=(e,n)=>{for(var t in n)A.o(n,t)&&!A.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},A.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),A.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;A.g.importScripts&&(e=A.g.location+"");var n=A.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var a=t.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=t[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),A.p=e})(),A.b=document.baseURI||self.location.href,A.nc=void 0,(()=>{var e=A(72),n=A.n(e),t=A(825),a=A.n(t),s=A(659),r=A.n(s),o=A(56),i=A.n(o),l=A(540),p=A.n(l),c=A(113),C=A.n(c),d=A(11),h={};h.styleTagTransform=C(),h.setAttributes=i(),h.insert=r().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=p(),n()(d.A,h),d.A&&d.A.locals&&d.A.locals;class g{constructor(e){Object.assign(this,{length:1,hits:0},e)}hit(){this.hits++}isSunk(){return this.hits>=this.length}}class u{constructor(){this.init()}init(){this.shots=Array.from({length:10},(e=>Array(10).fill(!1))),this.shipMap=Array.from({length:10},(e=>Array(10).fill(null))),this.ships=[]}placeShip(e,n,A){const t=this.getShipLocations(e,n,A);if(!this.areShipCoordsLegal(t))return!1;const a=new g({name:e,length:t.length,firstCoord:t[0],isVertical:A});for(const[e,n]of t)this.shipMap[e][n]=a;return this.ships.push(a),!0}getShipLocations(e,n,A){const t=[],a={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2}[e]/2,s=Math.ceil(a)-1,r=Math.floor(a),o=+!A,i=n[1-o],l=n[o]-s,p=n[o]+r;for(let e=l;e<=p;e++){const n=A?[e,i]:[i,e];t.push(n)}return t}areShipCoordsLegal(e){for(const[n,A]of e){if(n<0||n>=10||A<0||A>=10)return!1;if(null!==this.shipMap[n][A])return!1}return!0}receiveAttack(e){let[n,A]=e;const t=this.shots[n][A],a=this.shipMap[n][A];return this.shots[n][A]=!0,a instanceof g&&!t&&(a.hit(),!0)}haveAllShipsSunk(){for(const e of this.ships)if(!e.isSunk())return!1;return!0}textDisplay(){let e="";const n="[00m";for(let A=0;A<10;A++){for(let n=0;n<10;n++){const t=this.shots[A][n]?" x":"  ";e+=null===this.shipMap[A][n]?`[44m${t}`:`[40m[31m${t}`}e+=`${n}\n`}return e+=n,e}randomlyPlaceShips(){this.init();const e=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"];for(const n of e){let e=!1;for(;!e;){const A=parseInt(10*Math.random()),t=parseInt(10*Math.random()),a=Math.random()>.5;e=this.placeShip(n,[A,t],a)}}}}class m{constructor(e){if(this.gameboard=new u,this.gameboard.randomlyPlaceShips(),Object.assign(this,{name:"Awaw",isAI:!1},e),this.isAI){this.legalMoves=[];for(let e=0;e<10;e++)for(let n=0;n<10;n++)this.legalMoves.push([e,n])}}getAImove(){if(!this.isAI)return null;const e=parseInt(Math.random()*this.legalMoves.length),n=this.legalMoves[e];return this.legalMoves=this.legalMoves.filter((e=>e!==n)),n}}const f=new class{constructor(){this.subscribers={}}subscribe(e,n){return Array.isArray(this.subscribers[e])?this.subscribers[e]=[...this.subscribers[e],n]:this.subscribers[e]=[n],()=>{this.unsubscribe(e,n)}}unsubscribe(e,n){this.subscribers[e]=this.subscribers[e].filter((e=>e!==n))}publish(e,n){return Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach((e=>{e(n)})),!1}},b=new class{constructor(){this.PubSub=f}init(e){let{playersData:n,autoStart:A=!0,thinkingAI:t=!1,thinkingTime:a=2e3}=e;this.turn=0,this.status=-1,this._message="",this.players=[];for(const e of n)this.players.push(new m(e));A&&this.players[0].isAI&&this.makeMove(1,this.players[0].getAImove()),this.thinkingAI=t,this.thinkingTime=a,this.message=`Welcome to the battle! Your move, Captain ${this.players[0].name}.`}get message(){return this._message}set message(e){this._message=e,f.publish("message changed",e)}async makeMove(e,n){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const t=this.oppPlayer.gameboard,[a,s]=n,r=-1!==this.status,o=this.turn!==1-e,i=t.shots[a][s];if(f.publish("move attempted",{targetInd:e,coor:n}),r||o||i)return console.log(this.status,r,o,i),Promise.resolve(!1);if(t.receiveAttack(n)){if(t.haveAllShipsSunk())return this.status=this.turn,f.publish("gameover",this.turn),this.message=`Game over! Captain ${this.players[this.turn].name} has won the game.`,Promise.resolve(!0);if(t.shipMap[a][s].isSunk()){const e=t.shipMap[a][s].name;this.message=this.players[this.turn].isAI?`${e} down!`:`${e} down! Keep going...`}else this.message=this.players[this.turn].isAI?"It's a hit!":"It's a hit! Keep going..."}else{const e=this.players[1-this.turn];this.message=e.isAI?`It's a miss. Captain ${e.name} will strike soon.`:`It's a miss. Your move, Captain ${e.name}.`,this.turn^=1}if(f.publish("move made",{targetInd:e,coor:n}),this.curPlayer.isAI){const n=1-this.turn,a=A?A(t):this.curPlayer.getAImove(),s=this.thinkingAI?e===this.turn?this.thinkingTime:this.thinkingTime/2:0;return f.publish("AI about to move",{newTarget:n,AImove:a,time:s}),new Promise((e=>{setTimeout((()=>{this.makeMove(n,a,A).then(e)}),s)}))}return Promise.resolve(!0)}get curPlayer(){return this.players[this.turn]}get oppPlayer(){return this.players[1-this.turn]}};function x(e,n){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=document.createElement(e);""!==n&&a.classList.add(...n.split(" "));const s=document.createTextNode(A);a.appendChild(s);for(const[e,n]of Object.entries(t))a.setAttribute(e,n);return a}function y(e,n,A){return Array.from({length:e},(e=>Array(n).fill(A)))}const B=A.p+"src/assets/images/cross..svg",v=A.p+"src/assets/images/hit..svg",_=A.p+"src/assets/images/sunk..svg",E=A.p+"src/assets/images/Carrier-board..png",w=A.p+"src/assets/images/Battleship-board..png",k=A.p+"src/assets/images/Destroyer-board..png",z=A.p+"src/assets/images/Submarine-board..png",D=A.p+"src/assets/images/Patrol Boat-board..png",F=document.querySelector.bind(document),S=document.querySelectorAll.bind(document),$={Carrier:E,Battleship:w,Destroyer:k,Submarine:z,"Patrol Boat":D},I=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"],G={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2},U=new class{constructor(){this.Game=b,this.playersData=[{isAI:!1,name:"Chester"},{isAI:!1,name:"Wally"}],this.fogList=[y(10,10,null),y(10,10,null)]}get humanCount(){return this.playersData.filter((e=>!e.isAI)).length}init(){F(".modal").showModal(),F(".home").classList.add("home--active");const e=[["Chester","Bobby"],["Paul","Wally"]],n=e=>{13===e.which&&(e.preventDefault(),document.activeElement.blur())};for(let A=0;A<2;A++){const t=F(`.player--${A} .player__name`);t.onkeyup=n,t.onkeydown=n,t.addEventListener("blur",(()=>{0===t.textContent.length&&(t.textContent=this.playersData[A].name),t.textContent.length>12&&(t.textContent=t.textContent.substring(0,12)),this.playersData[A].name=t.textContent}));for(let n=0;n<2;n++){const a=1===n?"true":"false";document.getElementById(`isAI-${A}-${a}`).addEventListener("click",(()=>{t.textContent=e[A][n]}))}}F(".play-btn").addEventListener("click",(()=>{F(".home").classList.remove("home--active");for(let e=0;e<2;e++){const n="true"===F(`input[name="isAI-${e}"]:checked`).value,A=F(`.player--${e} .player__name`).textContent;this.playersData[e]={isAI:n,name:A}}const e=(e,n,A)=>{const t=F(`.place--${e}`);t.classList.add("place--active");const a=t.querySelector(".place-btn");a.textContent=n,a.onclick=()=>{t.classList.remove("place--active"),A()}};switch(this.humanCount){case 0:this.restart();break;case 1:for(let n=0;n<2;n++)this.playersData[n].isAI||e(n,"Begin The Battle!",this.restart.bind(this));break;case 2:e(0,"Next Player",(()=>{e(1,"Begin The Battle!",this.restart.bind(this))}))}}));const A=F(".place");for(const e of[1,0]){const n=A.cloneNode(!0);n.classList.add(`place--${e}`),A.after(n);const t=n.querySelector(".board__ships");for(const e of I){const A=x("img","ship","",{src:$[e],"data-ship-name":e,"data-row":0,"data-col":0});A.style.setProperty("--row",0),A.style.setProperty("--col",0),A.style.setProperty("--length",G[e]),A.classList.add("ship--horizontal"),A.classList.add("ship--selected"),A.classList.add("ship--allowed"),n.querySelector(".panel-ship:has(img[src*=Carrier])").classList.add("panel-ship--selected"),"Carrier"!==e&&A.classList.add("ship--hidden"),t.appendChild(A)}}for(let e=0;e<2;e++){const n=F(`.area--${e} .board__map`),A=F(`.area--${e} .board__coor-lines`),t=F(`.place--${e} .board__map`);for(let a=0;a<10;a++)for(let s=0;s<10;s++){const r=x("div","cell","",{"data-id":e,"data-row":a,"data-col":s}),o=x("img","cell__state");r.appendChild(o);const i=x("div","fog","");this.fogList[e][a][s]=i,r.appendChild(i),r.addEventListener("mouseover",(()=>{b.players[1-e].isAI||(A.style.setProperty("--row",a),A.style.setProperty("--col",s))})),n.appendChild(r),t.appendChild(r.cloneNode(!0)),r.addEventListener("click",(()=>{b.makeMove(e,[a,s])}))}}b.PubSub.subscribe("move attempted",(e=>{this.update()})),b.PubSub.subscribe("move made",(e=>{this.update()})),b.PubSub.subscribe("gameover",(e=>{this.update(),F(".game").classList.add("game--over")})),b.PubSub.subscribe("message changed",(e=>{const n=F(".message-box__text");n.style.animation="none",n.textContent=e,n.style.animation="none",n.offsetHeight,n.style.animation=null})),b.PubSub.subscribe("AI about to move",(e=>{let{newTarget:n,AImove:[A,t],time:a}=e;const s=F(`.area--${n} .board__coor-lines`);s.style.setProperty("--speed",.9*a/1e3+"s"),setTimeout((()=>{s.style.setProperty("--row",A),s.style.setProperty("--col",t)}),100)}))}restart(){F(".modal").close(),F(".game").classList.add("game--active"),b.init({playersData:this.playersData,thinkingAI:!0}),this.printBoardStates();for(let e=0;e<2;e++){F(".game").className="game game--active",F(`.area--${e} .board__ships`).textContent="",F(`.area--${e} .area__name`).textContent=b.players[e].name;const n=F(`.area--${e}`),A=b.players[1-e].isAI?"ai":"human";switch(n.className=`area area--${e} area--vs-${A}`,0===e&&n.classList.add("area--turn"),this.humanCount){case 1:b.players[e].isAI||n.classList.add("area--pov");break;case 0:case 2:0===e&&n.classList.add("area--pov")}S(`.area--${e} .fog`).forEach((e=>{e.className="fog"})),S(".game .panel-ship").forEach((e=>{e.className="panel-ship"}));const t=F(`.area--${e} .board__ships`);for(const n of b.players[e].gameboard.ships){const e=x("img","ship","",{src:$[n.name],"data-ship-name":n.name,"data-row":n.firstCoord[0],"data-col":n.firstCoord[1]});e.style.setProperty("--row",n.firstCoord[0]),e.style.setProperty("--col",n.firstCoord[1]),e.style.setProperty("--length",n.length),e.classList.add(n.isVertical?"ship--vertical":"ship--horizontal"),t.appendChild(e)}for(const n of I){const A=F(`.area--${e} .panel-ships img[src*="${n}"]`),t=F(`.area--${e} .ship[data-ship-name="${n}"]`);A.addEventListener("mouseover",(()=>{t.classList.add("ship--hover")})),A.addEventListener("mouseleave",(()=>{t.classList.remove("ship--hover")}))}for(let n=0;n<10;n++)for(let A=0;A<10;A++){const t=this.fogList[e][n][A];t.className="fog",0===n&&t.classList.add("fog--top"),9===n&&t.classList.add("fog--bottom"),0===A&&t.classList.add("fog--left"),9===A&&t.classList.add("fog--right")}}this.update()}update(){for(let e=0;e<2;e++){const n=this.Game.players[e].gameboard,A=F(`.area--${e} .board__map`).children;F(".area--turn").classList.remove("area--turn"),S(".area")[b.turn].classList.add("area--turn"),1!==this.humanCount&&(F(".area--pov").classList.remove("area--pov"),S(".area")[b.turn].classList.add("area--pov"));for(const n of b.players[e].gameboard.ships)if(n.isSunk()){const A=F(`.area--${e} .ship[data-ship-name="${n.name}"]`),t=F(`.area--${e} .panel-ship:has(img[src*="${n.name}"])`);A.classList.add("ship--sunk"),t.classList.add("panel-ship--sunk")}for(let t=0;t<10;t++)for(let a=0;a<10;a++){const s=A.item(10*t+a);if(n.shots[t][a]){const A=n.shipMap[t][a],r=null===A?B:A.isSunk()?_:v;s.querySelector(".cell__state").setAttribute("src",r),this.fogList[e][t][a].classList.add("fog--hidden");const o={"fog--top":[1,0],"fog--left":[0,1],"fog--bottom":[-1,0],"fog--right":[0,-1]};for(const[n,A]of Object.entries(o)){const s=t+A[0],r=a+A[1];s<0||s>=10||r<0||r>=10||this.fogList[e][s][r].classList.add(n)}}else s.querySelector(".cell__state").setAttribute("src","")}}}printBoardStates(){for(const e of b.players)console.log(e.name),console.log(e.gameboard.textDisplay()),console.log(" ")}};window.globals={},document.querySelector.bind(document),window.globals.Game=U.Game,window.globals.DisplayManager=U,U.init()})()})();
//# sourceMappingURL=app.bundle.js.map