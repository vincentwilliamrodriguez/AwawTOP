(()=>{"use strict";var e={11:(e,n,t)=>{t.d(n,{A:()=>v});var a=t(354),A=t.n(a),s=t(314),o=t.n(s),i=t(417),r=t.n(i),c=new URL(t(463),t.b),l=new URL(t(859),t.b),p=new URL(t(756),t.b),d=new URL(t(918),t.b),C=new URL(t(694),t.b),h=new URL(t(220),t.b),g=o()(A());g.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap);"]);var u=r()(c),m=r()(l),f=r()(p),b=r()(d),y=r()(C),x=r()(h);g.push([e.id,`@font-face{font-family:"Old Stamper";src:url(${u})}@font-face{font-family:"D Day Stencil";src:url(${m})}@keyframes animatedBackground{from{background-position:0 0}to{background-position:1000px 0}}@keyframes typing{from{width:0}to{width:100%}}@keyframes flicker{0%{opacity:.5}50%{opacity:.25}100%{opacity:.5}}*{margin:0;padding:0;box-sizing:border-box}img{-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}img[src*=svg]{height:50px}body{font-family:"Josefin Sans",sans-serif;height:100vh;width:100vw;background-image:url(${f});background-repeat:no-repeat;background-position:fixed;object-fit:cover;overflow:hidden;user-select:none;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px}body .home-btn,body .sound-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:32px;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:70%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;position:fixed;top:8px;z-index:3;border:0;outline:0;filter:invert(1)}body .home-btn img,body .sound-btn img{height:80%}body .home-btn:hover,body .sound-btn:hover{background-color:rgba(0,0,0,.0666666667);opacity:100%}body .home-btn:active,body .sound-btn:active{scale:.9}body .sound-btn{right:8px}body .sound-btn__icon{display:none}body .sound-btn__icon--active{display:block}body #sound-toggle{display:none}body .game .sound-btn{left:8px;right:auto}.modal{overflow:hidden;position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%, -50%);user-select:none;padding:16px 24px;box-shadow:0 0 5px 3px rgba(0,0,0,.1333333333);background:#3886c7;background:radial-gradient(circle, rgba(39, 108, 165, 0.8666666667) 30%, rgba(33, 91, 139, 0.8666666667) 100%);border-radius:24px;border:none;outline:none}.modal::backdrop{background:url(${b}),rgba(0,0,0,.8666666667);background-position:0px 0px;background-repeat:repeat-x;animation:animatedBackground 16s linear infinite;opacity:10%}.modal:has(.home--active){padding-bottom:0px}.home.home--active{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px}.place--active,.game--active{display:grid !important}.home{display:none;height:500px;width:650px}.home .logo{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px;filter:invert(1) drop-shadow(0px 0px 3px rgba(0, 0, 0, 0.4666666667));opacity:.9;user-select:none}.home .logo__icon{opacity:.85}.home .logo__icon--1{height:72px}.home .logo__icon--2{height:56px}.home .logo__title{font-family:"Old Stamper","Josefin Sans",sans-serif;font-size:48px}.home .players{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:16px}.home .players__vs{opacity:90%;color:#fff;font-size:64px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 3px rgba(0,0,0,.7333333333);user-select:none}.home .players .player{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;box-shadow:0 0 7px 0 rgba(0,0,0,.3333333333);padding:24px 32px;border-radius:16px;background:radial-gradient(circle, rgba(142, 183, 245, 0.4666666667) 0%, rgba(108, 145, 199, 0.4666666667) 150%)}.home .players .player__avatar{height:168px;border-radius:50%;box-shadow:0 0 2px 1px rgba(0,0,0,.4666666667);margin-bottom:4px}.home .players .player__name{max-width:160px;border:none;outline:none;font-size:20px;text-wrap:nowrap;overflow:hidden;padding:4px 6px 2px 6px;border-radius:4px;margin-bottom:8px;background-color:rgba(0,0,0,0);transition:background-color .1s ease}.home .players .player__name:focus{background-color:rgba(255,255,255,.8);box-shadow:0 0 2px 1px rgba(0,0,0,.2666666667)}.home .players .player__options{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px}.home .players .player__options input[type=radio]{display:none}.home .players .player__options input[type=radio]:checked+label{background-color:#202074;opacity:90%}.home .players .player__options label{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:100%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:4px 8px;border-radius:8px;opacity:70%;border:2px rgba(32,32,116,.8) solid;color:#fff;font-size:.9rem}.home .players .player__options label img{height:80%}.home .players .player__options label:hover{background-color:rgba(32,32,116,.8);opacity:100%}.home .players .player__options label:active{scale:.9}.home .players .player:has(.player__options input[value=true]:checked) .player__avatar--human,.home .players .player:has(.player__options input[value=false]:checked) .player__avatar--ai{display:none}.home .play-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:.9;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;margin-top:12px;padding:18px 16px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:rgba(128,68,28,.9333333333);border:none;outline:none;color:#fff;font-size:1.8rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.home .play-btn img{height:80%}.home .play-btn:hover{background-color:#80441c;opacity:100%}.home .play-btn:active{scale:.9}.place{display:none;align-content:center;align-items:center;justify-content:center;justify-items:center;grid-template:"top top" 50px "btns ships" 50px "board ships" 1fr "bottom bottom" 70px/1fr 250px;height:510px;width:570px;padding-left:32px;margin-bottom:-12px}.place__heading{grid-area:top;color:#ddd;font-size:2.4rem;letter-spacing:3px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.place__btns{grid-area:btns;display:flex;flex-direction:row;justify-content:start;align-items:center;gap:12px;padding-top:8px}.place__btns>*{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:fit-content;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:85%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;box-shadow:0 0 2px 0px rgba(0,0,0,.8666666667);background-color:#2d2261;padding:6px 8px;gap:6px;color:#fff;font-weight:bold}.place__btns>* img{height:100%}.place__btns>*:hover{background-color:#3f3381;opacity:100%}.place__btns>*:active{scale:.9}.place__btns>* img{height:24px;filter:invert(0.9)}.place__btns>* p{padding-top:2px}.place__btns .shuffle-btn__icon{height:18px}.place__btns .rotate-btn__icon{display:none}.place__btns .rotate-btn__icon--active{display:block}.place__btns #rotate-radio{display:none}.place .panel-ships{grid-area:ships;background-color:#48aae2;border-radius:12px;overflow:hidden;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .panel-ships .panel-ship:not(:last-child)::after{content:"";grid-column:1/-1;position:absolute;bottom:-2px;background-color:rgba(0,8,53,.3333333333);height:2px;width:85%}.place .panel-ships .panel-ship--placed img{opacity:0;cursor:default}.place .board{grid-area:board;--cell-size: 32px;background-color:#3f82da;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .board__map{cursor:default}.place .board__map .cell{opacity:.6}.place .board__map .cell .state{display:none}.place .board__map .cell .fog{display:none}.place .board__ships{cursor:default;pointer-events:all}.place .board__ships .ship{filter:brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667));cursor:pointer;transition:none !important}.place .board__ships .ship--hidden,.place .board__ships .ship--selected{pointer-events:none;cursor:default}.place .board__ships .ship--hidden{display:none}.place .board__ships .ship--selected{animation:1.5s flicker infinite;animation-timing-function:ease;filter:brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%)}.place .board__ships .ship--allowed{filter:brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%)}.place .board__ships .ship--vertical.ship--selected:not(.ship--locked){transform:translateX(0) translateY(0)}.place .board__ships .ship--horizontal.ship--selected:not(.ship--locked){transform-origin:top left;transform:translateY(0) translateX(calc(var(--ship-size))) rotate(90deg)}.place .place-btn{grid-area:bottom;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:max-content;height:min-content;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:1;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:8px 12px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:#6e3a17;border:none;outline:none;color:#fff;font-size:1.6rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.place .place-btn img{height:0%}.place .place-btn:hover{background-color:#80441c;opacity:100%}.place .place-btn:active{scale:.9}.place .place-btn:disabled{background-color:#6e3a17;opacity:.8}.place .place-btn:disabled:hover{background-color:#6e3a17;opacity:.8;cursor:default}.place .place-btn:disabled:active{scale:1}.game{display:grid;display:none;grid-template:"message message" 60px "area0 area1" 1fr/1fr 1fr;justify-content:center;justify-items:center;align-content:center;align-items:center;width:100%;height:100%;padding:0 24px}.game--over.game--over .board{cursor:default !important}.game--over.game--over .board .board__coor-lines{display:none !important}.game--over.game--over .board .fog{opacity:0 !important}.game--over.game--over .board .ship.ship.ship.ship.ship{display:block !important}.game .message-box{grid-area:message;height:50px;width:500px;margin-top:48px;padding:16px;opacity:.9;background:#0b2879;background:radial-gradient(circle, rgba(61, 87, 156, 0.7333333333) 0%, rgba(51, 71, 126, 0.7333333333) 100%);border:2px solid #020231;border-radius:16px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .message-box p{color:#ddd;overflow:hidden;white-space:nowrap;font-weight:bold;animation:typing 3s forwards}.game .area{display:grid;justify-items:center;justify-self:stretch}.game .area--0{grid-area:area0;grid-template:"name ." 50px "board ships" 1fr/1fr 150px}.game .area--0 .panel-ships{margin-right:8px}.game .area--1{grid-area:area1;grid-template:". name" 50px "ships board" 1fr/150px 1fr}.game .area--1 .panel-ships{margin-left:8px}.game .area--1 .panel-ship{transform:scaleX(-1)}.game .area--turn .board:hover{cursor:default !important}.game .area--turn .area__name{color:#081f4e;text-shadow:none;background-color:#ccc;border-radius:12px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .area--pov .fog{opacity:0 !important}.game .area--pov .board:hover{cursor:default !important}.game .area:not(.game .area--pov) .ship:not(.ship--sunk){display:none !important}.game .area--vs-ai:not(.area--turn) .board__coor-lines,.game .area--vs-human:not(.area--turn) .board:hover .board__coor-lines{display:block}.game .area--vs-ai .board__coor-lines{--speed: 2.0s}.game .area--vs-ai .board__coor-lines__row,.game .area--vs-ai .board__coor-lines__col,.game .area--vs-ai .board__coor-lines__target{transition:top var(--speed) ease,left var(--speed) ease}.game .area--vs-ai .board{cursor:default !important}.game .area--intermediate .board{pointer-events:none}.game .area--intermediate .board .board__ready-btn.board__ready-btn--shown{pointer-events:all;opacity:1;cursor:pointer}.game .area--intermediate .board__coor-lines{display:none !important}.game .area__name{grid-area:name;justify-self:center;align-self:end;padding:2px 6px;margin-bottom:8px;width:max-content;transition:background-color .2s ease,color .2s ease;color:#ccc;font-size:1.3rem;letter-spacing:2px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.game .area .board{grid-area:board;border:1px solid rgba(255,255,255,.2666666667);--cell-size: 45px}.game .area .panel-ships{display:flex;flex-direction:column;justify-content:center;align-items:stretch;gap:0px;grid-area:ships}.game .area .panel-ships .panel-ship{height:48px;opacity:1;transition:opacity .3s ease}.game .area .panel-ships .panel-ship img[src*=Carrier]{width:120px}.game .area .panel-ships .panel-ship img[src*=Battleship]{width:96px}.game .area .panel-ships .panel-ship img[src*=Destroyer]{width:72px}.game .area .panel-ships .panel-ship img[src*=Submarine]{width:72px}.game .area .panel-ships .panel-ship img[src*="Patrol Boat"]{width:48px}.game .area .panel-ships .panel-ship img{filter:invert(0.8) drop-shadow(2px 2px 3px #222);cursor:default}.game .area .panel-ships .panel-ship--sunk{opacity:.5}.panel-ships{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0px}.panel-ships .panel-ship{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;position:relative;height:72px;padding:8px 12px}.panel-ships .panel-ship img[src*=Carrier]{width:150px}.panel-ships .panel-ship img[src*=Battleship]{width:120px}.panel-ships .panel-ship img[src*=Destroyer]{width:90px}.panel-ships .panel-ship img[src*=Submarine]{width:90px}.panel-ships .panel-ship img[src*="Patrol Boat"]{width:60px}.panel-ships .panel-ship h3{align-self:start;font-size:.9rem;letter-spacing:-0.3px;color:#020231}.panel-ships .panel-ship img{align-self:end;transition:scale .3s ease,filter .3s ease;filter:auto;cursor:pointer}.panel-ships .panel-ship img:hover{scale:1.05;filter:brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%)}.board{position:relative;box-sizing:content-box;--cell-size: 50px;width:calc(var(--cell-size)*10);height:calc(var(--cell-size)*10)}.board:hover{cursor:url(${y}) 16 16,pointer}.board__map{width:100%;height:100%;display:grid;grid-template:repeat(10, 1fr)/repeat(10, 1fr)}.board__map .cell{position:relative;border:1px solid rgba(255,255,255,.2666666667)}.board__map .cell__state{z-index:2;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.board__map .cell__state[src*=cross]{filter:invert(1);opacity:.4;height:calc(.8*var(--cell-size))}.board__map .cell__state[src*=hit],.board__map .cell__state[src*=sunk]{height:calc(.4*var(--cell-size))}.board__map .cell__state[src*=hit]{opacity:.8;filter:drop-shadow(0 0 3px rgba(255, 255, 255, 0.4666666667))}.board__map .cell__state[src*=sunk]{opacity:.5}.board__map .cell .fog{--mask-top: linear-gradient(to top, #000000ff 0%, #000000ff 100%);--mask-left: linear-gradient(to left, #000000ff 0%, #000000ff 100%);--mask-bottom: linear-gradient(to bottom, #000000ff 0%, #000000ff 100%);--mask-right: linear-gradient(to right, #000000ff 0%, #000000ff 100%);height:var(--cell-size);width:var(--cell-size);background-image:url(${x});position:absolute;overflow:hidden;z-index:3;pointer-events:none;opacity:20%;mask-image:var(--mask-top),var(--mask-left),var(--mask-bottom),var(--mask-right);mask-composite:intersect}.board__map .cell .fog--top{--mask-top: linear-gradient(to top, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--left{--mask-left: linear-gradient(to left, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--bottom{--mask-bottom: linear-gradient(to bottom, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--right{--mask-right: linear-gradient(to right, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--hidden{display:none}.board__ships{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.board__ships .ship{--row: 0;--col: 0;--length: 2;--isVertical: true;--occupied-size: calc(var(--cell-size) * var(--length));--ship-size: calc(0.95 * var(--occupied-size));position:absolute;top:calc(var(--cell-size)*var(--row));left:calc(var(--cell-size)*var(--col));height:var(--ship-size);opacity:.85;overflow:hidden;transition:height .3s ease,filter .3s ease;filter:brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667))}.board__ships .ship--vertical{transform:translateX(calc(var(--cell-size) / 2 - 50%)) translateY(calc(var(--occupied-size) / 2 - 50%))}.board__ships .ship--horizontal{transform:translateY(calc(var(--cell-size) / 2 - 50%)) translateX(calc(var(--occupied-size) / 2 - 50%)) rotate(90deg)}.board__ships .ship--sunk{opacity:.3;filter:contrast(1.1) drop-shadow(0 0 0px rgba(49, 172, 255, 0.8));transition:opacity 20s ease,filter 1s ease}.board__ships .ship--hover{--ship-size: calc(1.03 * var(--occupied-size));filter:brightness(0.9) contrast(1.1)}.board__ships .ship--hover.ship--sunk{filter:brightness(1.1)}.board__coor-lines{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:4;pointer-events:none;--row: 0;--col: 0;--thickness: calc(1 * var(--cell-size));--dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--length: calc(var(--cell-size) * 10)}.board__coor-lines__row,.board__coor-lines__col,.board__coor-lines__target{position:absolute;background-color:#18a4e6;transition:top .05s ease,left .05s ease}.board__coor-lines__row{opacity:20%;top:var(--dist-row);left:0;width:var(--length);height:var(--thickness)}.board__coor-lines__col{opacity:20%;top:0;left:var(--dist-col);width:var(--thickness);height:var(--length)}.board__coor-lines__target{opacity:20%;top:var(--dist-row);left:var(--dist-col);width:var(--thickness);height:var(--thickness)}.board__ready-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:min-content;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:.8;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;position:absolute;z-index:5;top:50%;left:50%;opacity:0;pointer-events:none;transform:translate(-50%, -50%);transition:opacity .5s ease,background-color .5s ease,transform .2s ease;background-color:rgba(255,255,255,.6666666667);padding:6px 10px;color:#081f4e;font-size:1.6rem;letter-spacing:2px;font-family:"D Day Stencil","Josefin Sans",sans-serif;box-shadow:0 0 8px 0px rgba(8,31,78,.9333333333)}.board__ready-btn img{height:80%}.board__ready-btn:hover{background-color:rgba(255,255,255,.7333333333);opacity:100%}.board__ready-btn:active{scale:.9}.board__ready-btn:active{scale:1;transform:translate(-50%, -50%) scale(0.9)}`,"",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"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",sourcesContent:["@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');\n\n@font-face {\n  font-family: 'Old Stamper';\n  src: url('./assets/fonts/old_stamper.ttf');\n}\n\n@font-face {\n  font-family: 'D Day Stencil';\n  src: url('./assets/fonts/D Day Stencil.ttf');\n}\n\n@mixin flex-container($direction: row, $justify: center, $align: center, $gap: 0px) {\n  display: flex;\n  flex-direction: $direction;\n  justify-content: $justify;\n  align-items: $align;\n  gap: $gap;\n}\n\n@mixin box-shadow($color: #000000aa, $top: 0, $left: 0, $blur: 10px, $spread: 0px) {\n  box-shadow: $top $left $blur $spread $color;\n}\n\n@mixin button($width: 24px, $height: 24px, $image-size: 80%, $hover-bg: #00000033, $start-opacity: 100%) {\n  @include flex-container;\n  width: $width;\n  height: $height;\n\n  border-radius: 8px;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  opacity: $start-opacity;\n  scale: 1;\n\n  transition: background-color 0.3s ease, scale 0.3s ease, opacity 0.3s ease;\n  cursor: pointer;\n\n  img {\n    height: $image-size;\n  }\n\n  &:hover {\n    background-color: $hover-bg;\n    opacity: 100%;\n  }\n\n  &:active {\n    scale: 0.9;\n  }\n}\n\n@keyframes animatedBackground {\n  from {\n    background-position: 0 0;\n  }\n  to {\n    background-position: 1000px 0;\n  }\n}\n\n@keyframes typing {\n  from { width: 0 }\n  to { width: 100% }\n}\n\n@keyframes flicker {\n  0%   { opacity:0.5; }\n  50%  { opacity:0.25; }\n  100% { opacity:0.5; }\n}\n\n\n$ship-relative-sizes: (\n  'Carrier': 5,\n  'Battleship': 4,\n  'Destroyer': 3,\n  'Submarine': 3,\n  'Patrol Boat': 2,\n);\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nimg {\n  -webkit-user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n  &[src*=svg] {\n    height: 50px;\n  }\n}\n\nbody {\n  font-family: \"Josefin Sans\", sans-serif;\n  height: 100vh;\n  width: 100vw;\n\n  background-image: url('./assets/images/background.png');\n  background-repeat: no-repeat;\n  background-position: fixed;\n  object-fit: cover;\n  overflow: hidden;\n  user-select: none;\n\n  @include flex-container;\n\n  .home-btn,\n  .sound-btn {\n    @include button(32px, 32px, 80%, #00000011, 70%);\n    // display: none;\n\n    position: fixed;\n    top: 8px;\n    z-index: 3;\n\n    border: 0;\n    outline: 0;\n    filter: invert(1);\n  }\n\n  .sound-btn {\n    right: 8px;\n\n    &__icon {\n      display: none;\n    }\n\n    &__icon--active {\n      display: block;\n    }\n  }\n\n  #sound-toggle {\n    display: none;\n  }\n\n  .game .sound-btn {\n    left: 8px;\n    right: auto;\n  }\n}\n\n.modal {\n  overflow: hidden;\n  position: absolute;\n  z-index: 2;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  user-select: none;\n\n  padding: 16px 24px;\n\n  @include box-shadow(#00000022, 0, 0, 5px, 3px);\n  background: rgb(56,134,199);\n  background: radial-gradient(circle, #276ca5dd 30%, #215b8bdd 100%);\n  border-radius: 24px;\n  border: none;\n  outline: none;\n\n  &::backdrop {\n    background: url('./assets/images/fog.png'), #000000dd;\n    background-position: 0px 0px;\n    background-repeat: repeat-x;\n    animation: animatedBackground 16s linear infinite;\n\n    opacity: 10%;\n  }\n\n  &:has(.home--active) {\n    padding-bottom: 0px;\n  }\n}\n\n.home.home--active {\n  @include flex-container(column, center, center, 12px);\n}\n\n.place--active,\n.game--active {\n  display: grid !important;\n}\n\n.home {\n  display: none;\n\n  height: 500px;\n  width: 650px;\n\n  .logo {\n    @include flex-container(row, center, center, 12px);\n\n    filter: invert(1) drop-shadow(0px 0px 3px #00000077);;\n    opacity: 0.9;\n    user-select: none;\n\n    &__icon {\n      opacity: 0.85;\n\n      &--1 {\n        height: 72px;\n      }\n      \n      &--2 {\n        height: 56px;\n      }\n    }\n\n    &__title {\n      font-family: \"Old Stamper\", \"Josefin Sans\", sans-serif;\n      font-size: 48px;\n\n    }\n  }\n\n  .players {\n    @include flex-container(row, center, center, 16px);\n\n    &__vs {\n      opacity: 90%;\n      color: white;\n      font-size: 64px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 3px #000000bb;\n      user-select: none;\n    }\n\n    .player {\n      @include flex-container(column, center, center, 8px);\n      @include box-shadow(#00000055, 0, 0, 7px, 0);\n\n      padding: 24px 32px;\n      border-radius: 16px;\n\n      background: radial-gradient(circle, #8eb7f577 0%, #6c91c777 150%);\n\n      &__avatar {\n        height: 168px;\n        border-radius: 50%;\n\n        @include box-shadow(#00000077, 0, 0, 2px, 1px);\n        margin-bottom: 4px;\n      }\n\n      &__name {\n        max-width: 160px;\n        border: none;\n        outline: none;\n        \n        font-size: 20px;\n        text-wrap: nowrap;\n        overflow: hidden;\n\n        padding: 4px 6px 2px 6px;\n        border-radius: 4px;\n        margin-bottom: 8px;\n\n        background-color: transparent;\n        transition: background-color 0.1s ease;\n\n        &:focus {\n          background-color: #ffffffcc;\n          @include box-shadow(#00000044, 0, 0, 2px, 1px);\n        }\n      }\n\n      &__options {\n        @include flex-container(row, center, center, 12px);\n\n        input[type=radio] {\n          display: none;\n        }\n\n        input[type=radio]:checked + label {\n          background-color: #202074;\n          opacity: 90%;\n        }\n\n        label {\n          @include button(min-content, 36px, 80%, #202074cc);\n\n          padding: 4px 8px;\n          border-radius: 8px;\n          \n          opacity: 70%;\n          border: 2px #202074cc solid;\n\n          color: white;\n          font-size: 0.9rem;\n        }\n      }\n\n      // If one option in human or AI is checked, hide the other avatar\n      &:has(.player__options input[value=true]:checked) .player__avatar--human,\n      &:has(.player__options input[value=false]:checked) .player__avatar--ai {\n        display: none;\n      }\n    }\n  }\n\n  .play-btn {\n    @include button(min-content, 36px, 80%, #80441c, 0.9);\n\n    margin-top: 12px;\n    padding: 18px 16px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #80441cee;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.8rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  }\n}\n\n.place {\n  display: none;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  justify-items: center;\n  grid-template: \n            \"top top\" 50px\n            \"btns ships\" 50px \n            \"board ships\" 1fr\n            \"bottom bottom\" 70px / 1fr 250px;\n\n\n  height: 510px;\n  width: 570px;\n  padding-left: 32px;\n  margin-bottom: -12px;\n\n  &__heading {\n    grid-area: top;\n\n    color: #ddd;\n    font-size: 2.4rem;\n    letter-spacing: 3px;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n    text-shadow: 0 0 7px #00000099;\n  }\n\n  &__btns {\n    grid-area: btns;\n\n    @include flex-container(row, start, center, 12px);\n    padding-top: 8px;\n\n    & > * {\n      @include button(fit-content, 32px, 100%, #3f3381, 85%);\n      @include box-shadow(#000000dd, 0, 0, 2px);\n      background-color: #2d2261;\n      padding: 6px 8px;\n      gap: 6px;\n\n      color: white;\n      font-weight: bold;\n\n      img {\n        height: 24px;\n        filter: invert(0.9);\n      }\n\n      p {\n        padding-top: 2px;\n      }\n    }\n\n    .shuffle-btn__icon {\n      height: 18px;\n    }\n\n    .rotate-btn__icon {\n      display: none;\n\n      &--active {\n        display: block;\n      }\n    }\n\n    #rotate-radio {\n      display: none;\n    }\n  }\n\n  .panel-ships {\n    grid-area: ships;\n    \n    background-color: #48aae2;\n    border-radius: 12px;\n    overflow: hidden;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n    .panel-ship:not(:last-child)::after {\n      content: '';\n      grid-column: 1 / -1;\n\n      position: absolute;\n      bottom: -2px;\n\n      background-color: #00083555;\n      height: 2px;\n      width: 85%;\n    }\n    \n    .panel-ship--placed img {\n      opacity: 0;\n      cursor: default;\n    }\n  }\n\n  .board {\n    grid-area: board;\n\n    --cell-size: 32px;\n    \n    background-color: #3f82da;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n\n    &__map {\n      cursor: default;\n\n      .cell {\n        opacity: 0.6;\n\n        .state {\n          display: none;\n        }\n\n        .fog {\n          display: none;\n        }\n      }\n\n    }\n\n    &__ships {\n      cursor: default;\n      pointer-events: all;\n\n      .ship {\n        filter: brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n        cursor: pointer;\n        transition: none !important;\n\n        &--hidden,\n        &--selected {\n          pointer-events: none;\n          cursor: default;\n        }\n        \n        &--hidden {\n          display: none;\n        }\n\n        &--selected {\n          animation: 1.5s flicker infinite;\n          animation-timing-function: ease;\n\n          filter: brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%);\n        }\n\n        &--allowed {\n          filter: brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%);\n        }\n\n        &--vertical.ship--selected:not(.ship--locked) {\n          transform: translateX(0)\n                     translateY(0);\n  \n        }\n        \n        &--horizontal.ship--selected:not(.ship--locked) {\n          transform-origin: top left;\n          transform: translateY(0)\n                     translateX(calc(var(--ship-size)))\n                     rotate(90deg);\n        }\n      }\n    }\n  }\n\n  .place-btn {\n    grid-area: bottom;\n\n    @include button(max-content, min-content, 0%, #80441c, 1.0);\n\n    padding: 8px 12px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #6e3a17;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.6rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  \n    &:disabled {\n      background-color: #6e3a17;\n      opacity: 0.8;\n\n      &:hover {\n        background-color: #6e3a17;\n        opacity: 0.8;\n        cursor: default;\n      }\n\n      &:active {\n        scale: 1;\n      }\n    }\n  }\n}\n\n.game {\n  display: grid;\n  display: none;\n  grid-template: \n    \"message message\" 60px\n    \"area0 area1\" 1fr / 1fr 1fr;\n\n  justify-content: center;\n  justify-items: center;\n  align-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n  padding: 0 24px;\n\n  &--over.game--over {\n    .board {\n      cursor: default !important;\n\n      .board__coor-lines {\n        display: none !important;\n      }\n\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .ship.ship.ship.ship.ship {\n        display: block !important;\n      }\n    }\n  }\n\n  .message-box {\n    grid-area: message;\n\n    height: 50px;\n    width: 500px;\n    margin-top: 48px;\n    padding: 16px;\n\n    opacity: 0.9;\n    background: #0b2879;\n    background: radial-gradient(circle, #3d579cbb 0%, #33477ebb 100%);\n    border: 2px solid #020231;\n    border-radius: 16px;\n    @include box-shadow(#000000aa, 0, 0, 3px);\n\n    p {\n      color: #ddd;\n      overflow: hidden;\n      white-space: nowrap;\n      font-weight: bold;\n      animation: typing 3s forwards;\n    }\n  }\n\n  .area {\n    display: grid;\n    justify-items: center;\n    justify-self: stretch;\n\n    &--0 {\n      grid-area: area0;\n      grid-template: \n        \"name .\" 50px\n        \"board ships\" 1fr / 1fr 150px;\n      \n      .panel-ships {\n        margin-right: 8px;\n      }\n    }\n\n    &--1 {\n      grid-area: area1;\n      grid-template: \n        \". name\" 50px\n        \"ships board\" 1fr / 150px 1fr;\n\n      .panel-ships {\n        margin-left: 8px;\n      }\n      \n      .panel-ship {\n        transform: scaleX(-1);\n      }\n    }\n\n    &--turn { \n      .board:hover {\n        cursor: default !important;\n      }\n\n      .area__name {\n        color: #081f4e;\n        text-shadow: none;\n        background-color: #ccc;\n        border-radius: 12px;\n        @include box-shadow(#000000aa, 0, 0, 3px);\n      }\n    }\n\n    &--pov {\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .board:hover {\n        cursor: default !important;\n      }\n    }\n\n    &:not(&--pov) {\n      .ship:not(.ship--sunk) {\n        display: none !important;\n      }\n    }\n\n    &--vs-ai:not(.area--turn) .board__coor-lines, \n    &--vs-human:not(.area--turn) .board:hover .board__coor-lines {\n      display: block;\n    }\n\n    &--vs-ai .board__coor-lines {\n      --speed: 2.0s;\n\n      &__row,\n      &__col,\n      &__target {\n        transition: top var(--speed) ease, left var(--speed) ease;\n      }\n    }\n\n    &--vs-ai .board {\n      cursor: default !important;\n    }\n\n    &--intermediate .board {\n      pointer-events: none;\n\n      .board__ready-btn.board__ready-btn--shown {\n        pointer-events: all;\n        opacity: 1;\n\n        cursor: pointer;\n      }      \n    }\n\n    &--intermediate .board__coor-lines {\n      display: none !important;\n    }\n\n    &__name {\n      grid-area: name;\n\n      justify-self: center;\n      align-self: end;\n      padding: 2px 6px;\n      margin-bottom: 8px;\n      width: max-content;\n      transition: background-color 0.2s ease, color 0.2s ease;\n\n      color: #ccc;\n      font-size: 1.3rem;\n      letter-spacing: 2px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 7px #00000099;\n    }\n\n    .board {\n      grid-area: board;\n\n      border: 1px solid #ffffff44;\n\n      --cell-size: 45px;\n    }\n\n    .panel-ships {\n      @include flex-container(column, center, stretch);\n      grid-area: ships;\n\n      .panel-ship {\n        height: 48px;\n        $ship-size: 24px;\n\n        opacity: 1;\n        transition: opacity 0.3s ease;\n    \n        @each $ship, $relative-size in $ship-relative-sizes {\n          img[src*=\"#{$ship}\"] {\n            width: $relative-size * $ship-size;\n          }\n        }\n\n        img {\n          filter: invert(0.8) drop-shadow(2px 2px 3px #222);\n          cursor: default;\n        }\n\n        &--sunk {\n          opacity: 0.5;\n        }\n      }\n    }\n  }\n}\n\n.panel-ships {\n  @include flex-container(column, start, stretch);\n\n  .panel-ship {\n    @include flex-container(column, center, center, 4px);\n\n    position: relative;\n    height: 72px;\n    padding: 8px 12px;\n    $ship-size: 30px;\n\n    @each $ship, $relative-size in $ship-relative-sizes {\n      img[src*=\"#{$ship}\"] {\n        width: $relative-size * $ship-size;\n      }\n    }\n\n    h3 {\n      align-self: start;\n      font-size: 0.9rem;\n      letter-spacing: -0.3px;\n      color: #020231;\n    }\n\n    img {\n      align-self: end;\n      transition: scale 0.3s ease, filter 0.3s ease;\n      filter: auto;\n      cursor: pointer;\n\n      &:hover {\n        scale: 1.05;\n        filter: brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%);\n      }\n    }\n  }\n}\n\n.board {\n  position: relative;\n  box-sizing: content-box;\n\n  --cell-size: 50px;\n\n  width: calc(var(--cell-size) * 10);\n  height: calc(var(--cell-size) * 10);\n\n  &:hover {\n    cursor: url('./assets/images/target-small.svg') 16 16, pointer;\n  }\n  \n  &__map {\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n\n    .cell {\n      position: relative;\n      border: 1px solid #ffffff44;\n\n      &__state {\n        z-index: 2;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateX(-50%) translateY(-50%);\n      }\n\n      &__state[src *= cross] {\n        filter: invert(1);\n        opacity: 0.4;\n        height: calc(0.8 * var(--cell-size));\n      }\n\n      &__state[src *= hit],\n      &__state[src *= sunk] {\n        height: calc(0.4 * var(--cell-size));\n      }\n\n      &__state[src *= hit] {\n        opacity: 0.8;\n        filter: drop-shadow(0 0 3px #ffffff77);\n      }\n\n      &__state[src *= sunk] {\n        opacity: 0.5;\n      }\n\n\n      .fog {\n        $directions: 'top', 'left', 'bottom', 'right';\n    \n        @each $direction in $directions {\n          --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 0%, #000000ff 100%);\n    \n          &--#{$direction} {\n            --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 60%, #00000000 100%);\n          }\n        }\n    \n        height: var(--cell-size);\n        width: var(--cell-size);\n        background-image: url(./assets/images/fog-small.png);\n        \n        position: absolute;\n        overflow: hidden;\n        z-index: 3;\n        pointer-events: none;\n        opacity: 20%;\n        mask-image: var(--mask-top), var(--mask-left), var(--mask-bottom), var(--mask-right);\n        mask-composite: intersect;\n\n        // transition: opacity 0.1s ease;\n\n        &--hidden {\n          display: none;\n        }\n      }\n    }\n  }\n\n  &__ships {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    pointer-events: none;\n\n    .ship {\n      --row: 0;\n      --col: 0;\n      --length: 2;\n      --isVertical: true;\n\n      --occupied-size: calc(var(--cell-size) * var(--length));\n      --ship-size: calc(0.95 * var(--occupied-size));\n\n      position: absolute;\n      top: calc(var(--cell-size) * var(--row));\n      left: calc(var(--cell-size) * var(--col));\n      height: var(--ship-size);\n      \n      opacity: 0.85;\n      overflow: hidden;\n      transition: height 0.3s ease, filter 0.3s ease;\n      filter: brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n\n      &--vertical {\n        transform: translateX(calc(var(--cell-size) / 2 - 50%))\n                   translateY(calc(var(--occupied-size) / 2 - 50%));\n\n      }\n      \n      &--horizontal {\n        transform: translateY(calc(var(--cell-size) / 2 - 50%))\n                   translateX(calc(var(--occupied-size) / 2 - 50%))\n                   rotate(90deg);\n      }\n\n      &--sunk {\n        opacity: 0.3;\n        filter: contrast(1.1) drop-shadow(0 0 0px #31acffcc);\n        transition: opacity 20s ease, filter 1s ease;\n      }\n\n      &--hover {\n        --ship-size: calc(1.03 * var(--occupied-size));\n        filter: brightness(0.9) contrast(1.1);\n\n        &.ship--sunk {\n          filter: brightness(1.1);\n        }\n      }\n    }\n  }\n\n  &__coor-lines {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 4;\n    pointer-events: none;\n\n    --row: 0;\n    --col: 0;\n    --thickness: calc(1 * var(--cell-size));\n    --dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --length: calc(var(--cell-size) * 10);\n\n    &__row,\n    &__col,\n    &__target {\n      position: absolute;\n      background-color: #18a4e6;\n      transition: top 0.05s ease, left 0.05s ease;\n    }\n\n    &__row {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: 0;\n\n      width: var(--length);\n      height: var(--thickness);\n    }\n\n    &__col {\n      opacity: 20%;\n\n      top: 0;\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--length);\n    }\n\n    &__target {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--thickness);\n    }\n  }\n\n  &__ready-btn {\n    @include button(min-content, min-content, 80%, #ffffffbb, 0.8);\n\n    position: absolute;\n    z-index: 5;\n    top: 50%;\n    left: 50%;\n    \n    opacity: 0;\n    pointer-events: none;\n    \n    transform: translate(-50%, -50%);\n    transition: opacity 0.5s ease, background-color 0.5s ease, transform 0.2s ease;\n\n    background-color: #ffffffaa;\n    padding: 6px 10px;\n    \n    color: #081f4e;\n    font-size: 1.6rem;\n    letter-spacing: 2px;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n    @include box-shadow(#081f4eee, 0, 0, 8px);\n\n    &:active {\n      scale: 1;\n      transform: translate(-50%, -50%) scale(0.9);\n    }\n  }\n}\n"],sourceRoot:""}]);const v=g},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,A,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var i=0;i<this.length;i++){var r=this[i][0];null!=r&&(o[r]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);a&&o[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),A&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=A):l[4]="".concat(A)),n.push(l))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),s="/*# ".concat(A," */");return[n].concat([s]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var s={},o=[],i=0;i<e.length;i++){var r=e[i],c=a.base?r[0]+a.base:r[0],l=s[c]||0,p="".concat(c," ").concat(l);s[c]=l+1;var d=t(p),C={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==d)n[d].references++,n[d].updater(C);else{var h=A(C,a);a.byIndex=i,n.splice(i,0,{identifier:p,updater:h,references:1})}o.push(p)}return o}function A(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,A){var s=a(e=e||[],A=A||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var i=t(s[o]);n[i].references--}for(var r=a(e,A),c=0;c<s.length;c++){var l=t(s[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}s=r}}},659:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var A=void 0!==t.layer;A&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,A&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},859:(e,n,t)=>{e.exports=t.p+"src/assets/images/D Day Stencil..ttf"},463:(e,n,t)=>{e.exports=t.p+"src/assets/images/old_stamper..ttf"},756:(e,n,t)=>{e.exports=t.p+"src/assets/images/background..png"},220:(e,n,t)=>{e.exports=t.p+"src/assets/images/fog-small..png"},918:(e,n,t)=>{e.exports=t.p+"src/assets/images/fog..png"},694:(e,n,t)=>{e.exports=t.p+"src/assets/images/target-small..svg"}},n={};function t(a){var A=n[a];if(void 0!==A)return A.exports;var s=n[a]={id:a,exports:{}};return e[a](s,s.exports,t),s.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var A=a.length-1;A>-1&&(!e||!/^http(s?):/.test(e));)e=a[A--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(72),n=t.n(e),a=t(825),A=t.n(a),s=t(659),o=t.n(s),i=t(56),r=t.n(i),c=t(540),l=t.n(c),p=t(113),d=t.n(p),C=t(11),h={};h.styleTagTransform=d(),h.setAttributes=r(),h.insert=o().bind(null,"head"),h.domAPI=A(),h.insertStyleElement=l(),n()(C.A,h),C.A&&C.A.locals&&C.A.locals;class g{constructor(e){Object.assign(this,{length:1,hits:0},e)}hit(){this.hits++}isSunk(){return this.hits>=this.length}}function u(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const A=document.createElement(e);""!==n&&A.classList.add(...n.split(" "));const s=document.createTextNode(t);A.appendChild(s);for(const[e,n]of Object.entries(a))A.setAttribute(e,n);return A}function m(e,n,t){return Array.from({length:e},(e=>Array(n).fill(t)))}class f{constructor(){this.init()}init(){this.shots=m(10,10,!1),this.shipMap=m(10,10,null),this.ships=[]}placeShip(e,n,t){const a=this.getShipLocations(e,n,t);if(!this.areShipCoordsLegal(a))return!1;const A=new g({name:e,length:a.length,firstCoord:a[0],shipCoords:a,isVertical:t});for(const[e,n]of a)this.shipMap[e][n]=A;return this.ships.push(A),!0}getShipLocations(e,n,t){const a=[],A={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2}[e]/2,s=Math.ceil(A)-1,o=Math.floor(A),i=+!t,r=n[1-i],c=n[i]-s,l=n[i]+o;for(let e=c;e<=l;e++){const n=t?[e,r]:[r,e];a.push(n)}return a}areShipCoordsLegal(e){for(const[n,t]of e){if(n<0||n>=10||t<0||t>=10)return!1;if(null!==this.shipMap[n][t])return!1}return!0}receiveAttack(e){let[n,t]=e;const a=this.shots[n][t],A=this.shipMap[n][t];return this.shots[n][t]=!0,A instanceof g&&!a&&(A.hit(),!0)}haveAllShipsSunk(){for(const e of this.ships)if(!e.isSunk())return!1;return!0}textDisplay(){let e="";const n="[00m";for(let t=0;t<10;t++){for(let n=0;n<10;n++){const a=this.shots[t][n]?" x":"  ";e+=null===this.shipMap[t][n]?`[44m${a}`:`[40m[31m${a}`}e+=`${n}\n`}return e+=n,e}randomlyPlaceShips(){this.init();const e=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"];for(const n of e){let e=!1;for(;!e;){const t=parseInt(10*Math.random()),a=parseInt(10*Math.random()),A=Math.random()>.5;e=this.placeShip(n,[t,a],A)}}}removeShipByCoor(e){let[n,t]=e;const a=this.shipMap[n][t];this.ships=this.ships.filter((e=>e!==a));for(const[e,n]of a.shipCoords)this.shipMap[e][n]=null}}class b{constructor(e){if(this.gameboard=new f,this.gameboard.randomlyPlaceShips(),Object.assign(this,{name:"Awaw",isAI:!1},e),this.isAI){this.activeHits=m(10,10,!1),this.targetMap=m(10,10,!1),this.targetStack=[],this.latestPriority=[-1,0],this.randomMovesList=[];for(let e=0;e<10;e++)for(let n=0;n<10;n++)e%2==n%2&&this.randomMovesList.push([e,n])}}getAImove(){if(!this.isAI)return null;let e;if(console.log("awaw",this.randomMovesList,this.targetStack.map((e=>e.coor))),0===this.targetStack.length)e=this.getRandomMove(),console.log("random");else{const n=this.targetStack.pop();e=n.coor,this.latestPriority=n.priority;const[t,a]=e;this.targetMap[t][a]=!1,console.log("from targetStack")}return this.randomMovesList=this.randomMovesList.filter((n=>{const[t,a]=n,[A,s]=e;return!(t===A&&a===s)})),console.log(this.name,"move",String(e),"\n"),e}getRandomMove(){const e=Math.floor(Math.random()*this.randomMovesList.length);return this.randomMovesList[e]}isInBounds(e){let[n,t]=e;return 0<=n&&n<10&&0<=t&&t<10}getNeighbors(e,n){let t,[a,A]=e;const s=[];switch(String(n)){case"-1,0":t=[[0,1],[0,-1],[1,0],[-1,0]];break;case"1,0":t=[[0,1],[0,-1],[-1,0],[1,0]];break;case"0,1":t=[[-1,0],[1,0],[0,-1],[0,1]];break;case"0,-1":t=[[-1,0],[1,0],[0,1],[0,-1]]}for(const[e,n]of t){const t=[a+e,A+n];this.isInBounds(t)&&s.push({coor:t,priority:[e,n]})}return s}addToTargetStack(e){let{hitCoor:n,shotsOnEnemy:t}=e;const a=this.getNeighbors(n,this.latestPriority),A=[];for(const e of a){const[n,a]=e.coor;this.targetMap[n][a]||t[n][a]||(A.push(e),this.targetMap[n][a]=!0)}const s=A.pop(),o=this.targetStack.pop();this.targetStack=[...this.targetStack,...A];for(const e of[o,s])void 0!==e&&this.targetStack.push(e)}updateActiveHits(e){let[n,t]=e;this.activeHits[n][t]=!0}cleanTargetStack(e){let{shipCoords:n}=e;const t=m(10,10,!1);for(const[e,t]of n)this.activeHits[e][t]=!1;for(let e=0;e<10;e++)for(let n=0;n<10;n++)if(this.activeHits[e][n]){const a=this.getNeighbors([e,n],[-1,0]);for(const{coor:[e,n]}of a)t[e][n]=!0}for(let e=0;e<10;e++)for(let n=0;n<10;n++)this.targetMap[e][n]=this.targetMap[e][n]&&t[e][n];const a=[];for(const e of this.targetStack){const[n,t]=e.coor;this.targetMap[n][t]&&a.push(e)}this.targetStack=structuredClone(a)}}const y=new class{constructor(){this.subscribers={}}subscribe(e,n){return Array.isArray(this.subscribers[e])?this.subscribers[e]=[...this.subscribers[e],n]:this.subscribers[e]=[n],()=>{this.unsubscribe(e,n)}}unsubscribe(e,n){this.subscribers[e]=this.subscribers[e].filter((e=>e!==n))}publish(e,n){return Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach((e=>{e(n)})),!1}},x=new class{constructor(){this.PubSub=y}init(e){let{playersData:n,autoStart:t=!0,thinkingAI:a=!1,thinkingTime:A=2e3}=e;this.turn=0,this.status=-1,this._message="",this.players=[];for(let e=0;e<2;e++){const t=n[e],a=new b(t);t.isAI&&(y.subscribe("AI hit",(n=>{n.turn===e&&a.addToTargetStack(n)})),y.subscribe("AI sinks ship",(n=>{n.turn===e&&a.cleanTargetStack(n)}))),this.players.push(a)}t&&this.players[0].isAI&&setTimeout((()=>{this.makeAImove({targetInd:1})}),2e3),this.thinkingAI=a,this.thinkingTime=A,this.message=this.players[0].isAI?`Welcome to the battle! It is Captain ${this.players[0].name}'s turn.`:`Welcome to the battle! Your move, Captain ${this.players[0].name}.`}get message(){return this._message}set message(e){this._message=e,y.publish("message changed",e)}async makeMove(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=this.oppPlayer.gameboard,[A,s]=n,o=-1!==this.status,i=this.turn!==1-e,r=a.shots[A][s];if(y.publish("move attempted",{targetInd:e,coor:n}),o||i||r)return console.log("Move blocked: ",o,i,r,n),Promise.resolve(!1);const c=a.receiveAttack(n);if(this.curPlayer.isAI&&c&&this.curPlayer.updateActiveHits(n),c){if(a.haveAllShipsSunk())return this.status=this.turn,y.publish("gameover",this.turn),this.message=`Game over! Captain ${this.players[this.turn].name} has won the game.`,Promise.resolve(!0);if(a.shipMap[A][s].isSunk()){const e=a.shipMap[A][s].name,t=a.shipMap[A][s].shipCoords;this.message=this.players[this.turn].isAI?`${e} down!`:`${e} down! Keep going...`,y.publish("AI sinks ship",{hitCoor:n,shipCoords:t,turn:this.turn})}else this.message=this.players[this.turn].isAI?"It's a hit!":"It's a hit! Keep going...",y.publish("AI hit",{hitCoor:n,shotsOnEnemy:a.shots,turn:this.turn})}else{const e=this.players[1-this.turn];this.message=e.isAI?`It's a miss. Captain ${e.name} will strike soon.`:`It's a miss. Your move, Captain ${e.name}.`,this.turn^=1}return y.publish("move made",{targetInd:e,coor:n,hasTurnChanged:!c}),this.curPlayer.isAI?this.makeAImove({targetInd:e,mockAImove:t,hasTurnChanged:!c}):Promise.resolve(!0)}makeAImove(e){let{targetInd:n,mockAImove:t=null,hasTurnChanged:a=!1}=e;const A=1-this.turn,s=t?t(n===this.turn):this.curPlayer.getAImove(),o=this.thinkingAI?n===this.turn?this.thinkingTime:.5*this.thinkingTime:0;return y.publish("AI about to move",{newTarget:A,AImove:s,time:o,hasTurnChanged:a}),new Promise((e=>{setTimeout((()=>{this.makeMove(A,s,t).then(e)}),o)}))}get curPlayer(){return this.players[this.turn]}get oppPlayer(){return this.players[1-this.turn]}},v=t.p+"src/assets/images/cross..svg",B=t.p+"src/assets/images/hit..svg",_=t.p+"src/assets/images/sunk..svg",E=t.p+"src/assets/images/Carrier-board..png",k=t.p+"src/assets/images/Battleship-board..png",w=t.p+"src/assets/images/Destroyer-board..png",S=t.p+"src/assets/images/Submarine-board..png",D=t.p+"src/assets/images/Patrol Boat-board..png",L=document.querySelector.bind(document),z=document.querySelectorAll.bind(document),F={Carrier:E,Battleship:k,Destroyer:w,Submarine:S,"Patrol Boat":D},$=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"],I={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2},G=new class{constructor(){this.Game=x,this.fogList=[m(10,10,null),m(10,10,null)],this.intermediateTime=1e3}get humanCount(){return this.playersData.filter((e=>!e.isAI)).length}init(){this.playersData=[{isAI:!1,name:"Chester",gameboard:new f},{isAI:!0,name:"Wally",gameboard:new f}],L(".modal").showModal(),L(".home").classList.add("home--active");const e=[["Chester","Bobby"],["Paul","Wally"]],n=e=>{13===e.which&&(e.preventDefault(),document.activeElement.blur())};for(let A=0;A<2;A++){const s=L(`.player--${A} .player__name`);s.onkeyup=n,s.onkeydown=n,s.addEventListener("blur",(()=>{0===s.textContent.length&&(s.textContent=this.playersData[A].name),s.textContent.length>12&&(s.textContent=s.textContent.substring(0,12)),this.playersData[A].name=s.textContent}));for(let o=0;o<2;o++){const i=1===o?"true":"false";document.getElementById(`isAI-${A}-${i}`).addEventListener("click",(()=>{s.textContent=e[A][o]}))}}L(".play-btn").addEventListener("click",(()=>{L(".home").classList.remove("home--active");for(let e=0;e<2;e++){const n="true"===L(`input[name="isAI-${e}"]:checked`).value,t=L(`.player--${e} .player__name`).textContent,a=new f;this.playersData[e]={isAI:n,name:t,gameboard:a},n&&a.randomlyPlaceShips()}const e=(e,n,t)=>{const a=L(`.place--${e}`);a.classList.add("place--active");const A=a.querySelector(".place-btn");A.textContent=n,A.onclick=()=>{a.classList.remove("place--active"),t()}};switch(this.humanCount){case 0:this.restart();break;case 1:for(let n=0;n<2;n++)this.playersData[n].isAI||e(n,"Begin The Battle!",this.restart.bind(this));break;case 2:e(0,`Captain ${this.playersData[0].name} - Done!`,(()=>{e(1,`Captain ${this.playersData[1].name} - Done!`,this.restart.bind(this))}))}}));const t=L(".place");for(const r of[1,0]){const c=t.cloneNode(!0),l=c.querySelector.bind(c);c.classList.add(`place--${r}`),t.after(c);const p=l(".board__ships"),d=()=>this.playersData[r].gameboard,C=l("#rotate-radio");function h(){l(".place-btn").disabled=5!==d().ships.length}function g(){d().randomlyPlaceShips();for(const e of d().ships){const n=l(`.ship[data-ship-name="${e.name}"]`),t=l(`.panel-ship:has(img[src*="${e.name}"])`);n.style.setProperty("--row",e.firstCoord[0]),n.style.setProperty("--col",e.firstCoord[1]),n.style.setProperty("--isVertical",e.isVertical),n.style.setProperty("--length",e.length),n.classList.remove("ship--vertical"),n.classList.remove("ship--horizontal"),n.classList.add("ship--"+(e.isVertical?"vertical":"horizontal")),t.classList.add("panel-ship--placed"),n.classList.remove("ship--hidden")}h()}l(".shuffle-btn").onclick=g;let m=C.checked;const b=e=>e?"vertical":"horizontal";l(".rotate-btn").addEventListener("click",(()=>{C.checked=!C.checked,l(".rotate-btn__icon--active").classList.remove("rotate-btn__icon--active"),l(`.rotate-btn__icon[src*=${b(C.checked)}]`).classList.add("rotate-btn__icon--active"),m=C.checked}));let y=null;function v(e){B(),y=setTimeout(e,100)}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==y&&(clearTimeout(y),null!==e&&e())}for(const _ of $){const E=u("img","ship","",{src:F[_],"data-ship-name":_});E.setAttribute("data-ship-name",_),E.style.setProperty("--row",0),E.style.setProperty("--col",0),E.style.setProperty("--length",I[_]),E.classList.add("ship--hidden"),p.appendChild(E);const k=l(`.panel-ship:has(img[src*="${_}"])`),w=l(".board");let S,D,G,Y;const P=e=>(M(),[Math.floor((e.clientY-D)/32),Math.floor((e.clientX-S)/32)]),M=()=>{({left:S,top:D,right:G,bottom:Y}=w.getBoundingClientRect())},U=e=>{e.stopPropagation(),M(),window.addEventListener("resize",M);const n=e=>{if(!E.classList.contains("ship--selected"))return;E.classList.remove("ship--allowed"),E.classList.remove("ship--vertical"),E.classList.remove("ship--horizontal"),E.classList.remove("ship--locked");let{width:n,height:t}=E.getBoundingClientRect();m||([n,t]=[t,n]),M();let a=(e.clientX-S-n/2)/32,A=(e.clientY-D-t/2)/32;if((e=>{let{clientX:n,clientY:t}=e;return M(),S<n&&n<G&&D<t&&t<Y})(e)){E.classList.add("ship--locked");const[n,t]=P(e),s=d().getShipLocations(_,[n,t],m);[A,a]=s[0],d().areShipCoordsLegal(s)&&E.classList.add("ship--allowed")}E.style.setProperty("--row",A),E.style.setProperty("--col",a),E.style.setProperty("--isVertical",m),E.style.setProperty("--length",I[_]),E.classList.add(`ship--${b(m)}`)};function t(){const e=l(".ship--selected");if(null===e)return;const t=e.getAttribute("data-ship-name");l(`.panel-ship:has(img[src*="${t}"])`).classList.remove("panel-ship--placed"),e.classList.remove("ship--selected"),e.classList.remove("ship--allowed"),e.classList.remove("ship--locked"),e.classList.add("ship--hidden"),window.removeEventListener("mousemove",n),l(".rotate-btn").removeEventListener("click",n),k.onclick=e=>{k.classList.contains("panel-ship--placed")||U(e)}}w.onmouseup=function(e){if(e.stopPropagation(),E.classList.contains("ship--allowed")){E.classList.remove("ship--selected"),E.classList.remove("ship--locked"),E.classList.remove("ship--allowed"),window.removeEventListener("mousemove",n),l(".rotate-btn").removeEventListener("click",n),w.onclick=null;const[[t,a],A]=[P(e),"true"===E.style.getPropertyValue("--isVertical")];d().placeShip(_,[t,a],A)}h()},w.onclick=e=>e.stopPropagation(),t(),window.addEventListener("click",t),k.classList.add("panel-ship--placed"),E.classList.add("ship--selected"),E.classList.remove("ship--hidden"),n(e),window.addEventListener("mousemove",n),l(".rotate-btn").addEventListener("click",(e=>{e.stopPropagation(),n(e)})),l(".shuffle-btn").addEventListener("click",(()=>{t(),g()}))},j=e=>{k.classList.contains("panel-ship--placed")||U(e)};function W(e){null===l(".ship--selected")&&(e.stopPropagation(),d().removeShipByCoor(P(e)),m=E.classList.contains("ship--vertical"),m!==C.checked&&l(".rotate-btn").click(),U(e),h())}k.onclick=j,k.addEventListener("mousedown",(e=>{k.classList.contains("panel-ship--placed")||v(U.bind(this,e))})),E.onclick=W,E.addEventListener("mousedown",(e=>{v(W.bind(this,e))}))}}for(let q=0;q<2;q++){const J=L(`.area--${q} .board__map`),T=L(`.area--${q} .board__coor-lines`),O=L(`.place--${q} .board__map`);for(let Q=0;Q<10;Q++)for(let N=0;N<10;N++){const R=u("div","cell","",{"data-id":q}),K=u("img","cell__state");R.appendChild(K);const H=u("div","fog","");this.fogList[q][Q][N]=H,R.appendChild(H),R.addEventListener("mouseover",(()=>{x.players[1-q].isAI||(T.style.setProperty("--row",Q),T.style.setProperty("--col",N))})),J.appendChild(R),O.appendChild(R.cloneNode(!0)),R.addEventListener("click",(()=>{x.players[1-q].isAI||x.makeMove(q,[Q,N])}))}}for(const V of z(".sound-btn"))V.onclick=()=>{L("#sound-toggle").checked^=1;for(const e of z(".sound-btn")){const n=e.querySelector(".sound-btn__icon--active"),t=e.querySelectorAll(".sound-btn__icon")[+L("#sound-toggle").checked];n.classList.remove("sound-btn__icon--active"),t.classList.add("sound-btn__icon--active")}};const a=()=>null!==L(".game--active");x.PubSub.subscribe("move attempted",(e=>{a()&&this.update()})),x.PubSub.subscribe("move made",(e=>{if(a()&&(this.update(),e.hasTurnChanged)){for(const e of z(".area"))e.classList.add("area--intermediate");setTimeout((()=>{if(L(".area--turn").classList.remove("area--turn"),z(".area")[x.turn].classList.add("area--turn"),1!==this.humanCount&&(L(".area--pov").classList.remove("area--pov"),2!==this.humanCount&&z(".area")[x.turn].classList.add("area--pov")),2===this.humanCount){const e=L(".area:not(.area--turn) .board__ready-btn");e.classList.add("board__ready-btn--shown"),e.onclick=()=>{e.classList.remove("board__ready-btn--shown"),z(".area")[x.turn].classList.add("area--pov");for(const e of z(".area"))e.classList.remove("area--intermediate");const n=L(".area:not(.area--turn) .board__coor-lines");for(const e of n.children)e.style.setProperty("transition","none"),setTimeout((()=>{e.style.setProperty("transition","top 0.05s ease, left 0.05s ease")}),0)}}else for(const e of z(".area"))e.classList.remove("area--intermediate")}),this.intermediateTime)}})),x.PubSub.subscribe("gameover",(e=>{a()&&(this.update(),L(".game").classList.add("game--over"))})),x.PubSub.subscribe("message changed",(e=>{if(!a())return;const n=L(".message-box__text");n.textContent=e,n.style.animation="none",n.offsetHeight,n.style.animation=null})),x.PubSub.subscribe("AI about to move",(e=>{let{newTarget:n,AImove:[t,A],time:s,hasTurnChanged:o}=e;if(!a())return;const i=L(`.area--${n} .board__coor-lines`);i.style.setProperty("--speed",.6*s/1e3+"s");const r=o?this.intermediateTime+30:5;setTimeout((()=>{i.style.setProperty("--row",t),i.style.setProperty("--col",A)}),r)}))}restart(){L(".modal").close(),L(".game").classList.add("game--active"),x.status=-1,x.init({playersData:this.playersData,thinkingAI:!0,thinkingTime:2e3+this.intermediateTime});for(let e=0;e<2;e++){L(".game").className="game game--active",L(`.area--${e} .board__ships`).textContent="",L(`.area--${e} .area__name`).textContent=x.players[e].name;const n=L(`.area--${e}`),t=x.players[1-e].isAI?"ai":"human";switch(n.className=`area area--${e} area--vs-${t}`,0===e&&n.classList.add("area--turn"),this.humanCount){case 1:x.players[e].isAI||n.classList.add("area--pov");break;case 0:case 2:0===e&&n.classList.add("area--pov")}z(`.area--${e} .fog`).forEach((e=>{e.className="fog"})),z(".game .panel-ship").forEach((e=>{e.className="panel-ship"}));const a=L(`.area--${e} .board__ships`);for(const n of x.players[e].gameboard.ships){const e=u("img","ship","",{src:F[n.name],"data-ship-name":n.name});e.style.setProperty("--row",n.firstCoord[0]),e.style.setProperty("--col",n.firstCoord[1]),e.style.setProperty("--length",n.length),e.classList.add(n.isVertical?"ship--vertical":"ship--horizontal"),a.appendChild(e)}for(const n of $){const t=L(`.area--${e} .panel-ships img[src*="${n}"]`),a=L(`.area--${e} .ship[data-ship-name="${n}"]`);t.addEventListener("mouseover",(()=>{a.classList.add("ship--hover")})),t.addEventListener("mouseleave",(()=>{a.classList.remove("ship--hover")}))}for(let n=0;n<10;n++)for(let t=0;t<10;t++){const a=this.fogList[e][n][t];a.className="fog",0===n&&a.classList.add("fog--top"),9===n&&a.classList.add("fog--bottom"),0===t&&a.classList.add("fog--left"),9===t&&a.classList.add("fog--right")}}this.update()}update(){for(let e=0;e<2;e++){const n=this.Game.players[e].gameboard,t=L(`.area--${e} .board__map`).children;for(const n of x.players[e].gameboard.ships)if(n.isSunk()){const t=L(`.area--${e} .ship[data-ship-name="${n.name}"]`),a=L(`.area--${e} .panel-ship:has(img[src*="${n.name}"])`);t.classList.add("ship--sunk"),a.classList.add("panel-ship--sunk")}for(let a=0;a<10;a++)for(let A=0;A<10;A++){const s=t.item(10*a+A);if(n.shots[a][A]){const t=n.shipMap[a][A],o=null===t?v:t.isSunk()?_:B;s.querySelector(".cell__state").setAttribute("src",o),this.fogList[e][a][A].classList.add("fog--hidden");const i={"fog--top":[1,0],"fog--left":[0,1],"fog--bottom":[-1,0],"fog--right":[0,-1]};for(const[n,t]of Object.entries(i)){const s=a+t[0],o=A+t[1];s<0||s>=10||o<0||o>=10||this.fogList[e][s][o].classList.add(n)}}else s.querySelector(".cell__state").setAttribute("src","")}}}printBoardStates(){for(const e of x.players)console.log(e.name),console.log(e.gameboard.textDisplay()),console.log(" ")}};window.globals={},document.querySelector.bind(document),window.globals.Game=G.Game,window.globals.DisplayManager=G,G.init()})()})();
//# sourceMappingURL=app.bundle.js.map