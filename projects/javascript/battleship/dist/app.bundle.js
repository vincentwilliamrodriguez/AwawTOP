(()=>{"use strict";var e={11:(e,n,t)=>{t.d(n,{A:()=>v});var a=t(354),A=t.n(a),s=t(314),i=t.n(s),o=t(417),r=t.n(o),l=new URL(t(463),t.b),c=new URL(t(859),t.b),p=new URL(t(756),t.b),d=new URL(t(918),t.b),C=new URL(t(694),t.b),h=new URL(t(220),t.b),g=i()(A());g.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap);"]);var u=r()(l),m=r()(c),f=r()(p),b=r()(d),y=r()(C),x=r()(h);g.push([e.id,`@font-face{font-family:"Old Stamper";src:url(${u})}@font-face{font-family:"D Day Stencil";src:url(${m})}@keyframes animatedBackground{from{background-position:0 0}to{background-position:1000px 0}}@keyframes typing{from{width:0}to{width:100%}}@keyframes flicker{0%{opacity:.5}50%{opacity:.25}100%{opacity:.5}}*{margin:0;padding:0;box-sizing:border-box}img{-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}img[src*=svg]{height:50px}body{font-family:"Josefin Sans",sans-serif;height:100vh;width:100vw;background-image:url(${f});background-repeat:no-repeat;background-position:fixed;object-fit:cover;overflow:hidden;user-select:none;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px}body .home-btn,body .sound-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:32px;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:70%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;display:none;position:absolute;top:8px;z-index:3;border:0;outline:0;filter:invert(1)}body .home-btn img,body .sound-btn img{height:80%}body .home-btn:hover,body .sound-btn:hover{background-color:rgba(0,0,0,.0666666667);opacity:100%}body .home-btn:active,body .sound-btn:active{scale:.9}body .home-btn{left:8px}body .sound-btn{right:8px}body .sound-btn__icon{display:none}body .sound-btn__icon--active{display:block}.modal{overflow:hidden;position:absolute;z-index:2;top:50%;left:50%;transform:translate(-50%, -50%);user-select:none;padding:16px 24px;box-shadow:0 0 5px 3px rgba(0,0,0,.1333333333);background:#3886c7;background:radial-gradient(circle, rgba(39, 108, 165, 0.8666666667) 30%, rgba(33, 91, 139, 0.8666666667) 100%);border-radius:24px;border:none;outline:none}.modal::backdrop{background:url(${b}),rgba(0,0,0,.8666666667);background-position:0px 0px;background-repeat:repeat-x;animation:animatedBackground 16s linear infinite;opacity:10%}.home.home--active{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:12px}.place--active,.game--active{display:grid !important}.home{display:none;height:500px;width:650px}.home .logo{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px;filter:invert(1) drop-shadow(0px 0px 3px rgba(0, 0, 0, 0.4666666667));opacity:.9;user-select:none}.home .logo__icon{opacity:.85}.home .logo__icon--1{height:72px}.home .logo__icon--2{height:56px}.home .logo__title{font-family:"Old Stamper","Josefin Sans",sans-serif;font-size:48px}.home .players{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:16px}.home .players__vs{opacity:90%;color:#fff;font-size:64px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 3px rgba(0,0,0,.7333333333);user-select:none}.home .players .player{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px;box-shadow:0 0 7px 0 rgba(0,0,0,.3333333333);padding:24px 32px;border-radius:16px;background:radial-gradient(circle, rgba(142, 183, 245, 0.4666666667) 0%, rgba(108, 145, 199, 0.4666666667) 150%)}.home .players .player__avatar{height:168px;border-radius:50%;box-shadow:0 0 2px 1px rgba(0,0,0,.4666666667);margin-bottom:4px}.home .players .player__name{max-width:160px;border:none;outline:none;font-size:20px;text-wrap:nowrap;overflow:hidden;padding:4px 6px 2px 6px;border-radius:4px;margin-bottom:8px;background-color:rgba(0,0,0,0);transition:background-color .1s ease}.home .players .player__name:focus{background-color:rgba(255,255,255,.8);box-shadow:0 0 2px 1px rgba(0,0,0,.2666666667)}.home .players .player__options{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:12px}.home .players .player__options input[type=radio]{display:none}.home .players .player__options input[type=radio]:checked+label{background-color:#202074;opacity:90%}.home .players .player__options label{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:100%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:4px 8px;border-radius:8px;opacity:70%;border:2px rgba(32,32,116,.8) solid;color:#fff;font-size:.9rem}.home .players .player__options label img{height:80%}.home .players .player__options label:hover{background-color:rgba(32,32,116,.8);opacity:100%}.home .players .player__options label:active{scale:.9}.home .players .player:has(.player__options input[value=true]:checked) .player__avatar--human,.home .players .player:has(.player__options input[value=false]:checked) .player__avatar--ai{display:none}.home .play-btn{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:min-content;height:36px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:.9;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;margin-top:12px;padding:18px 16px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:#61381d;border:none;outline:none;color:#fff;font-size:1.8rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.home .play-btn img{height:80%}.home .play-btn:hover{background-color:#61381d;opacity:100%}.home .play-btn:active{scale:.9}.place{display:none;align-content:center;align-items:center;justify-content:center;justify-items:center;grid-template:"top top" 50px "btns ships" 50px "board ships" 1fr "bottom bottom" 70px/1fr 250px;height:510px;width:570px;padding-left:32px;margin-bottom:-12px}.place__heading{grid-area:top;color:#ddd;font-size:2.4rem;letter-spacing:3px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.place__btns{grid-area:btns;display:flex;flex-direction:row;justify-content:start;align-items:center;gap:12px;padding-top:8px}.place__btns>*{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:fit-content;height:32px;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:85%;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;box-shadow:0 0 2px 0px rgba(0,0,0,.8666666667);background-color:#2d2261;padding:6px 8px;gap:6px;color:#fff;font-weight:bold}.place__btns>* img{height:100%}.place__btns>*:hover{background-color:#3f3381;opacity:100%}.place__btns>*:active{scale:.9}.place__btns>* img{height:24px;filter:invert(0.9)}.place__btns>* p{padding-top:2px}.place__btns .shuffle-btn__icon{height:18px}.place__btns .rotate-btn__icon{display:none}.place__btns .rotate-btn__icon--active{display:block}.place__btns #rotate-radio{display:none}.place .panel-ships{grid-area:ships;background-color:#48aae2;border-radius:12px;overflow:hidden;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .panel-ships .panel-ship:not(:last-child)::after{content:"";grid-column:1/-1;position:absolute;bottom:-2px;background-color:rgba(0,8,53,.3333333333);height:2px;width:85%}.place .panel-ships .panel-ship--placed img{opacity:0;cursor:default}.place .board{grid-area:board;--cell-size: 32px;background-color:#3f82da;box-shadow:0 0 5px 0px rgba(0,0,0,.4666666667)}.place .board__map{cursor:default}.place .board__map .cell{opacity:.6}.place .board__map .cell .state{display:none}.place .board__map .cell .fog{display:none}.place .board__ships{cursor:default;pointer-events:all}.place .board__ships .ship{filter:brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667));cursor:pointer}.place .board__ships .ship--hidden,.place .board__ships .ship--selected{pointer-events:none;cursor:default}.place .board__ships .ship--hidden{display:none}.place .board__ships .ship--selected{animation:1.5s flicker infinite;animation-timing-function:ease;filter:brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%)}.place .board__ships .ship--allowed{filter:brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%)}.place .board__ships .ship--vertical.ship--selected:not(.ship--locked){transform:translateX(0) translateY(0)}.place .board__ships .ship--horizontal.ship--selected:not(.ship--locked){transform-origin:top left;transform:translateY(0) translateX(calc(var(--ship-size))) rotate(90deg)}.place .place-btn{grid-area:bottom;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:0px;width:max-content;height:min-content;border-radius:8px;background-color:rgba(0,0,0,0);border:none;outline:none;opacity:1;scale:1;transition:background-color .3s ease,scale .3s ease,opacity .3s ease;cursor:pointer;padding:8px 12px;border-radius:8px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667);background-color:#6e3a17;border:none;outline:none;color:#fff;font-size:1.6rem;font-family:"D Day Stencil","Josefin Sans",sans-serif}.place .place-btn img{height:0%}.place .place-btn:hover{background-color:#80441c;opacity:100%}.place .place-btn:active{scale:.9}.place .place-btn:disabled{background-color:#6e3a17;opacity:.8}.place .place-btn:disabled:hover{background-color:#6e3a17;opacity:.8;cursor:default}.place .place-btn:disabled:active{scale:1}.game{display:grid;display:none;grid-template:"message message" 60px "area0 area1" 1fr/1fr 1fr;justify-content:center;justify-items:center;align-content:center;align-items:center;width:100%;height:100%;padding:0 24px}.game--over .board{cursor:default !important}.game--over .board .board__coor-lines{display:none !important}.game--over .board .fog{opacity:0 !important}.game--over .board .ship{display:block !important}.game .message-box{grid-area:message;height:50px;width:500px;margin-top:48px;padding:16px;opacity:.9;background:#0b2879;background:radial-gradient(circle, rgba(61, 87, 156, 0.7333333333) 0%, rgba(51, 71, 126, 0.7333333333) 100%);border:2px solid #020231;border-radius:16px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .message-box p{color:#ddd;overflow:hidden;white-space:nowrap;font-weight:bold;animation:typing 3s forwards}.game .area{display:grid;justify-items:center;justify-self:stretch}.game .area--0{grid-area:area0;grid-template:"name ." 50px "board ships" 1fr/1fr 150px}.game .area--0 .panel-ships{margin-right:8px}.game .area--1{grid-area:area1;grid-template:". name" 50px "ships board" 1fr/150px 1fr}.game .area--1 .panel-ships{margin-left:8px}.game .area--1 .panel-ship{transform:scaleX(-1)}.game .area--turn .board:hover{cursor:default !important}.game .area--turn .area__name{color:#081f4e;text-shadow:none;background-color:#ccc;border-radius:12px;box-shadow:0 0 3px 0px rgba(0,0,0,.6666666667)}.game .area--pov .fog{opacity:0 !important}.game .area--pov .board:hover{cursor:default !important}.game .area:not(.game .area--pov) .ship:not(.ship--sunk){display:none !important}.game .area--vs-ai:not(.area--turn) .board__coor-lines,.game .area--vs-human:not(.area--turn) .board:hover .board__coor-lines{display:block}.game .area--vs-ai .board__coor-lines{--speed: 2.0s}.game .area--vs-ai .board__coor-lines__row,.game .area--vs-ai .board__coor-lines__col,.game .area--vs-ai .board__coor-lines__target{transition:top var(--speed) ease,left var(--speed) ease}.game .area--vs-ai .board{cursor:pointer !important}.game .area__name{grid-area:name;justify-self:center;align-self:end;padding:2px 6px;margin-bottom:8px;width:max-content;color:#ccc;font-size:1.3rem;letter-spacing:2px;font-family:"D Day Stencil","Josefin Sans",sans-serif;text-shadow:0 0 7px rgba(0,0,0,.6)}.game .area .board{grid-area:board;border:1px solid rgba(255,255,255,.2666666667);--cell-size: 45px}.game .area .panel-ships{display:flex;flex-direction:column;justify-content:center;align-items:stretch;gap:0px;grid-area:ships}.game .area .panel-ships .panel-ship{height:48px;opacity:1;transition:opacity .3s ease}.game .area .panel-ships .panel-ship img[src*=Carrier]{width:120px}.game .area .panel-ships .panel-ship img[src*=Battleship]{width:96px}.game .area .panel-ships .panel-ship img[src*=Destroyer]{width:72px}.game .area .panel-ships .panel-ship img[src*=Submarine]{width:72px}.game .area .panel-ships .panel-ship img[src*="Patrol Boat"]{width:48px}.game .area .panel-ships .panel-ship img{filter:invert(0.8) drop-shadow(2px 2px 3px #222);cursor:default}.game .area .panel-ships .panel-ship--sunk{opacity:.5}.panel-ships{display:flex;flex-direction:column;justify-content:start;align-items:stretch;gap:0px}.panel-ships .panel-ship{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:4px;position:relative;height:72px;padding:8px 12px}.panel-ships .panel-ship img[src*=Carrier]{width:150px}.panel-ships .panel-ship img[src*=Battleship]{width:120px}.panel-ships .panel-ship img[src*=Destroyer]{width:90px}.panel-ships .panel-ship img[src*=Submarine]{width:90px}.panel-ships .panel-ship img[src*="Patrol Boat"]{width:60px}.panel-ships .panel-ship h3{align-self:start;font-size:.9rem;letter-spacing:-0.3px;color:#020231}.panel-ships .panel-ship img{align-self:end;transition:scale .3s ease,filter .3s ease;filter:auto;cursor:pointer}.panel-ships .panel-ship img:hover{scale:1.05;filter:brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%)}.board{position:relative;box-sizing:content-box;--cell-size: 50px;width:calc(var(--cell-size)*10);height:calc(var(--cell-size)*10)}.board:hover{cursor:url(${y}) 16 16,pointer}.board__map{width:100%;height:100%;display:grid;grid-template:repeat(10, 1fr)/repeat(10, 1fr)}.board__map .cell{position:relative;border:1px solid rgba(255,255,255,.2666666667)}.board__map .cell__state{z-index:2;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%)}.board__map .cell__state[src*=cross]{filter:invert(1);opacity:.4;height:calc(.8*var(--cell-size))}.board__map .cell__state[src*=hit],.board__map .cell__state[src*=sunk]{height:calc(.4*var(--cell-size))}.board__map .cell__state[src*=hit]{opacity:.8;filter:drop-shadow(0 0 3px rgba(255, 255, 255, 0.4666666667))}.board__map .cell__state[src*=sunk]{opacity:.5}.board__map .cell .fog{--mask-top: linear-gradient(to top, #000000ff 0%, #000000ff 100%);--mask-left: linear-gradient(to left, #000000ff 0%, #000000ff 100%);--mask-bottom: linear-gradient(to bottom, #000000ff 0%, #000000ff 100%);--mask-right: linear-gradient(to right, #000000ff 0%, #000000ff 100%);height:var(--cell-size);width:var(--cell-size);background-image:url(${x});position:absolute;overflow:hidden;z-index:3;pointer-events:none;opacity:20%;mask-image:var(--mask-top),var(--mask-left),var(--mask-bottom),var(--mask-right);mask-composite:intersect}.board__map .cell .fog--top{--mask-top: linear-gradient(to top, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--left{--mask-left: linear-gradient(to left, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--bottom{--mask-bottom: linear-gradient(to bottom, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--right{--mask-right: linear-gradient(to right, #000000ff 60%, #00000000 100%)}.board__map .cell .fog--hidden{opacity:0}.board__ships{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.board__ships .ship{--row: 0;--col: 0;--length: 2;--isVertical: true;--occupied-size: calc(var(--cell-size) * var(--length));--ship-size: calc(0.95 * var(--occupied-size));position:absolute;top:calc(var(--cell-size)*var(--row));left:calc(var(--cell-size)*var(--col));height:var(--ship-size);opacity:.85;overflow:hidden;filter:brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.4666666667))}.board__ships .ship--vertical{transform:translateX(calc(var(--cell-size) / 2 - 50%)) translateY(calc(var(--occupied-size) / 2 - 50%))}.board__ships .ship--horizontal{transform:translateY(calc(var(--cell-size) / 2 - 50%)) translateX(calc(var(--occupied-size) / 2 - 50%)) rotate(90deg)}.board__ships .ship--sunk{opacity:.3;filter:contrast(1.1) drop-shadow(0 0 0px rgba(49, 172, 255, 0.8));transition:opacity 20s ease,filter 1s ease}.board__ships .ship--hover{--ship-size: calc(1.03 * var(--occupied-size));filter:brightness(0.9) contrast(1.1)}.board__ships .ship--hover.ship--sunk{filter:brightness(1.1)}.board__coor-lines{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:4;pointer-events:none;--row: 0;--col: 0;--thickness: calc(1 * var(--cell-size));--dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));--length: calc(var(--cell-size) * 10)}.board__coor-lines__row,.board__coor-lines__col,.board__coor-lines__target{position:absolute;background-color:#18a4e6;transition:top .05s ease,left .05s ease}.board__coor-lines__row{opacity:20%;top:var(--dist-row);left:0;width:var(--length);height:var(--thickness)}.board__coor-lines__col{opacity:20%;top:0;left:var(--dist-col);width:var(--thickness);height:var(--length)}.board__coor-lines__target{opacity:20%;top:var(--dist-row);left:var(--dist-col);width:var(--thickness);height:var(--thickness)}`,"",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"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",sourcesContent:["@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');\n\n@font-face {\n  font-family: 'Old Stamper';\n  src: url('./assets/fonts/old_stamper.ttf');\n}\n\n@font-face {\n  font-family: 'D Day Stencil';\n  src: url('./assets/fonts/D Day Stencil.ttf');\n}\n\n@mixin flex-container($direction: row, $justify: center, $align: center, $gap: 0px) {\n  display: flex;\n  flex-direction: $direction;\n  justify-content: $justify;\n  align-items: $align;\n  gap: $gap;\n}\n\n@mixin box-shadow($color: #000000aa, $top: 0, $left: 0, $blur: 10px, $spread: 0px) {\n  box-shadow: $top $left $blur $spread $color;\n}\n\n@mixin button($width: 24px, $height: 24px, $image-size: 80%, $hover-bg: #00000033, $start-opacity: 100%) {\n  @include flex-container;\n  width: $width;\n  height: $height;\n\n  border-radius: 8px;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  opacity: $start-opacity;\n  scale: 1;\n\n  transition: background-color 0.3s ease, scale 0.3s ease, opacity 0.3s ease;\n  cursor: pointer;\n\n  img {\n    height: $image-size;\n  }\n\n  &:hover {\n    background-color: $hover-bg;\n    opacity: 100%;\n  }\n\n  &:active {\n    scale: 0.9;\n  }\n}\n\n@keyframes animatedBackground {\n  from {\n    background-position: 0 0;\n  }\n  to {\n    background-position: 1000px 0;\n  }\n}\n\n@keyframes typing {\n  from { width: 0 }\n  to { width: 100% }\n}\n\n@keyframes flicker {\n  0%   { opacity:0.5; }\n  50%  { opacity:0.25; }\n  100% { opacity:0.5; }\n}\n\n\n$ship-relative-sizes: (\n  'Carrier': 5,\n  'Battleship': 4,\n  'Destroyer': 3,\n  'Submarine': 3,\n  'Patrol Boat': 2,\n);\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nimg {\n  -webkit-user-drag: none;\n  user-select: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n\n  &[src*=svg] {\n    height: 50px;\n  }\n}\n\nbody {\n  font-family: \"Josefin Sans\", sans-serif;\n  height: 100vh;\n  width: 100vw;\n\n  background-image: url('./assets/images/background.png');\n  background-repeat: no-repeat;\n  background-position: fixed;\n  object-fit: cover;\n  overflow: hidden;\n  user-select: none;\n\n  @include flex-container;\n\n  .home-btn,\n  .sound-btn {\n    @include button(32px, 32px, 80%, #00000011, 70%);\n    display: none;\n\n    position: absolute;\n    top: 8px;\n    z-index: 3;\n\n    border: 0;\n    outline: 0;\n    filter: invert(1);\n  }\n\n  .home-btn {\n    left: 8px;\n  }\n\n  .sound-btn {\n    right: 8px;\n\n    &__icon {\n      display: none;\n    }\n\n    &__icon--active {\n      display: block;\n    }\n  }\n}\n\n.modal {\n  overflow: hidden;\n  position: absolute;\n  z-index: 2;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  user-select: none;\n\n  padding: 16px 24px;\n\n  @include box-shadow(#00000022, 0, 0, 5px, 3px);\n  background: rgb(56,134,199);\n  background: radial-gradient(circle, #276ca5dd 30%, #215b8bdd 100%);\n  border-radius: 24px;\n  border: none;\n  outline: none;\n\n  &::backdrop {\n    background: url('./assets/images/fog.png'), #000000dd;\n    background-position: 0px 0px;\n    background-repeat: repeat-x;\n    animation: animatedBackground 16s linear infinite;\n\n    opacity: 10%;\n  }\n}\n\n.home.home--active {\n  @include flex-container(column, center, center, 12px);\n}\n\n.place--active,\n.game--active {\n  display: grid !important;\n}\n\n.home {\n  display: none;\n\n  height: 500px;\n  width: 650px;\n\n  .logo {\n    @include flex-container(row, center, center, 12px);\n\n    filter: invert(1) drop-shadow(0px 0px 3px #00000077);;\n    opacity: 0.9;\n    user-select: none;\n\n    &__icon {\n      opacity: 0.85;\n\n      &--1 {\n        height: 72px;\n      }\n      \n      &--2 {\n        height: 56px;\n      }\n    }\n\n    &__title {\n      font-family: \"Old Stamper\", \"Josefin Sans\", sans-serif;\n      font-size: 48px;\n\n    }\n  }\n\n  .players {\n    @include flex-container(row, center, center, 16px);\n\n    &__vs {\n      opacity: 90%;\n      color: white;\n      font-size: 64px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 3px #000000bb;\n      user-select: none;\n    }\n\n    .player {\n      @include flex-container(column, center, center, 8px);\n      @include box-shadow(#00000055, 0, 0, 7px, 0);\n\n      padding: 24px 32px;\n      border-radius: 16px;\n\n      background: radial-gradient(circle, #8eb7f577 0%, #6c91c777 150%);\n\n      &__avatar {\n        height: 168px;\n        border-radius: 50%;\n\n        @include box-shadow(#00000077, 0, 0, 2px, 1px);\n        margin-bottom: 4px;\n      }\n\n      &__name {\n        max-width: 160px;\n        border: none;\n        outline: none;\n        \n        font-size: 20px;\n        text-wrap: nowrap;\n        overflow: hidden;\n\n        padding: 4px 6px 2px 6px;\n        border-radius: 4px;\n        margin-bottom: 8px;\n\n        background-color: transparent;\n        transition: background-color 0.1s ease;\n\n        &:focus {\n          background-color: #ffffffcc;\n          @include box-shadow(#00000044, 0, 0, 2px, 1px);\n        }\n      }\n\n      &__options {\n        @include flex-container(row, center, center, 12px);\n\n        input[type=radio] {\n          display: none;\n        }\n\n        input[type=radio]:checked + label {\n          background-color: #202074;\n          opacity: 90%;\n        }\n\n        label {\n          @include button(min-content, 36px, 80%, #202074cc);\n\n          padding: 4px 8px;\n          border-radius: 8px;\n          \n          opacity: 70%;\n          border: 2px #202074cc solid;\n\n          color: white;\n          font-size: 0.9rem;\n        }\n      }\n\n      // If one option in human or AI is checked, hide the other avatar\n      &:has(.player__options input[value=true]:checked) .player__avatar--human,\n      &:has(.player__options input[value=false]:checked) .player__avatar--ai {\n        display: none;\n      }\n    }\n  }\n\n  .play-btn {\n    @include button(min-content, 36px, 80%, #61381d, 0.9);\n\n    margin-top: 12px;\n    padding: 18px 16px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #61381d;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.8rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  }\n}\n\n.place {\n  display: none;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  justify-items: center;\n  grid-template: \n            \"top top\" 50px\n            \"btns ships\" 50px \n            \"board ships\" 1fr\n            \"bottom bottom\" 70px / 1fr 250px;\n\n\n  height: 510px;\n  width: 570px;\n  padding-left: 32px;\n  margin-bottom: -12px;\n\n  &__heading {\n    grid-area: top;\n\n    color: #ddd;\n    font-size: 2.4rem;\n    letter-spacing: 3px;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n    text-shadow: 0 0 7px #00000099;\n  }\n\n  &__btns {\n    grid-area: btns;\n\n    @include flex-container(row, start, center, 12px);\n    padding-top: 8px;\n\n    & > * {\n      @include button(fit-content, 32px, 100%, #3f3381, 85%);\n      @include box-shadow(#000000dd, 0, 0, 2px);\n      background-color: #2d2261;\n      padding: 6px 8px;\n      gap: 6px;\n\n      color: white;\n      font-weight: bold;\n\n      img {\n        height: 24px;\n        filter: invert(0.9);\n      }\n\n      p {\n        padding-top: 2px;\n      }\n    }\n\n    .shuffle-btn__icon {\n      height: 18px;\n    }\n\n    .rotate-btn__icon {\n      display: none;\n\n      &--active {\n        display: block;\n      }\n    }\n\n    #rotate-radio {\n      display: none;\n    }\n  }\n\n  .panel-ships {\n    grid-area: ships;\n    \n    background-color: #48aae2;\n    border-radius: 12px;\n    overflow: hidden;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n    .panel-ship:not(:last-child)::after {\n      content: '';\n      grid-column: 1 / -1;\n\n      position: absolute;\n      bottom: -2px;\n\n      background-color: #00083555;\n      height: 2px;\n      width: 85%;\n    }\n    \n    .panel-ship--placed img {\n      opacity: 0;\n      cursor: default;\n    }\n  }\n\n  .board {\n    grid-area: board;\n\n    --cell-size: 32px;\n    \n    background-color: #3f82da;\n    @include box-shadow(#00000077, 0, 0, 5px);\n\n\n    &__map {\n      cursor: default;\n\n      .cell {\n        opacity: 0.6;\n\n        .state {\n          display: none;\n        }\n\n        .fog {\n          display: none;\n        }\n      }\n\n    }\n\n    &__ships {\n      cursor: default;\n      pointer-events: all;\n\n      .ship {\n        filter: brightness(0.95) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n        cursor: pointer;\n\n        &--hidden,\n        &--selected {\n          pointer-events: none;\n          cursor: default;\n        }\n        \n        &--hidden {\n          display: none;\n        }\n\n        &--selected {\n          animation: 1.5s flicker infinite;\n          animation-timing-function: ease;\n\n          filter: brightness(0) saturate(100%) invert(5%) sepia(80%) saturate(7407%) hue-rotate(360deg) brightness(82%) contrast(96%);\n        }\n\n        &--allowed {\n          filter: brightness(0) saturate(100%) invert(22%) sepia(58%) saturate(1597%) hue-rotate(95deg) brightness(97%) contrast(107%);\n        }\n\n        &--vertical.ship--selected:not(.ship--locked) {\n          transform: translateX(0)\n                     translateY(0);\n  \n        }\n        \n        &--horizontal.ship--selected:not(.ship--locked) {\n          transform-origin: top left;\n          transform: translateY(0)\n                     translateX(calc(var(--ship-size)))\n                     rotate(90deg);\n        }\n      }\n    }\n  }\n\n  .place-btn {\n    grid-area: bottom;\n\n    @include button(max-content, min-content, 0%, #80441c, 1.0);\n\n    padding: 8px 12px;\n    border-radius: 8px;\n    \n    @include box-shadow(#000000aa, 0, 0, 3px);\n    background-color: #6e3a17;\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.6rem;\n    font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n  \n    &:disabled {\n      background-color: #6e3a17;\n      opacity: 0.8;\n\n      &:hover {\n        background-color: #6e3a17;\n        opacity: 0.8;\n        cursor: default;\n      }\n\n      &:active {\n        scale: 1;\n      }\n    }\n  }\n}\n\n.game {\n  display: grid;\n  display: none;\n  grid-template: \n    \"message message\" 60px\n    \"area0 area1\" 1fr / 1fr 1fr;\n\n  justify-content: center;\n  justify-items: center;\n  align-content: center;\n  align-items: center;\n\n  width: 100%;\n  height: 100%;\n  padding: 0 24px;\n\n  &--over {\n    .board {\n      cursor: default !important;\n\n      .board__coor-lines {\n        display: none !important;\n      }\n\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .ship {\n        display: block !important;\n      }\n    }\n  }\n\n  .message-box {\n    grid-area: message;\n\n    height: 50px;\n    width: 500px;\n    margin-top: 48px;\n    padding: 16px;\n\n    opacity: 0.9;\n    background: #0b2879;\n    background: radial-gradient(circle, #3d579cbb 0%, #33477ebb 100%);\n    border: 2px solid #020231;\n    border-radius: 16px;\n    @include box-shadow(#000000aa, 0, 0, 3px);\n\n    p {\n      color: #ddd;\n      overflow: hidden;\n      white-space: nowrap;\n      font-weight: bold;\n      animation: typing 3s forwards;\n    }\n  }\n\n  .area {\n    display: grid;\n    justify-items: center;\n    justify-self: stretch;\n\n    &--0 {\n      grid-area: area0;\n      grid-template: \n        \"name .\" 50px\n        \"board ships\" 1fr / 1fr 150px;\n      \n      .panel-ships {\n        margin-right: 8px;\n      }\n    }\n\n    &--1 {\n      grid-area: area1;\n      grid-template: \n        \". name\" 50px\n        \"ships board\" 1fr / 150px 1fr;\n\n      .panel-ships {\n        margin-left: 8px;\n      }\n      \n      .panel-ship {\n        transform: scaleX(-1);\n      }\n    }\n\n    &--turn { \n      .board:hover {\n        cursor: default !important;\n      }\n\n      .area__name {\n        color: #081f4e;\n        text-shadow: none;\n        background-color: #ccc;\n        border-radius: 12px;\n        @include box-shadow(#000000aa, 0, 0, 3px);\n      }\n    }\n\n    &--pov {\n      .fog {\n        opacity: 0 !important;\n      }\n\n      .board:hover {\n        cursor: default !important;\n      }\n    }\n\n    &:not(&--pov) {\n      .ship:not(.ship--sunk) {\n        display: none !important;\n      }\n    }\n\n    &--vs-ai:not(.area--turn) .board__coor-lines, \n    &--vs-human:not(.area--turn) .board:hover .board__coor-lines {\n      display: block;\n    }\n\n    &--vs-ai .board__coor-lines {\n      --speed: 2.0s;\n\n      &__row,\n      &__col,\n      &__target {\n        transition: top var(--speed) ease, left var(--speed) ease;\n      }\n    }\n\n    &--vs-ai .board {\n      cursor: pointer !important;\n    }\n\n\n    &__name {\n      grid-area: name;\n\n      justify-self: center;\n      align-self: end;\n      padding: 2px 6px;\n      margin-bottom: 8px;\n      width: max-content;\n\n      color: #ccc;\n      font-size: 1.3rem;\n      letter-spacing: 2px;\n      font-family: 'D Day Stencil', \"Josefin Sans\", sans-serif;\n      text-shadow: 0 0 7px #00000099;\n    }\n\n    .board {\n      grid-area: board;\n\n      border: 1px solid #ffffff44;\n\n      --cell-size: 45px;\n    }\n\n    .panel-ships {\n      @include flex-container(column, center, stretch);\n      grid-area: ships;\n\n      .panel-ship {\n        height: 48px;\n        $ship-size: 24px;\n\n        opacity: 1;\n        transition: opacity 0.3s ease;\n    \n        @each $ship, $relative-size in $ship-relative-sizes {\n          img[src*=\"#{$ship}\"] {\n            width: $relative-size * $ship-size;\n          }\n        }\n\n        img {\n          filter: invert(0.8) drop-shadow(2px 2px 3px #222);\n          cursor: default;\n        }\n\n        &--sunk {\n          opacity: 0.5;\n        }\n      }\n    }\n  }\n}\n\n.panel-ships {\n  @include flex-container(column, start, stretch);\n\n  .panel-ship {\n    @include flex-container(column, center, center, 4px);\n\n    position: relative;\n    height: 72px;\n    padding: 8px 12px;\n    $ship-size: 30px;\n\n    @each $ship, $relative-size in $ship-relative-sizes {\n      img[src*=\"#{$ship}\"] {\n        width: $relative-size * $ship-size;\n      }\n    }\n\n    h3 {\n      align-self: start;\n      font-size: 0.9rem;\n      letter-spacing: -0.3px;\n      color: #020231;\n    }\n\n    img {\n      align-self: end;\n      transition: scale 0.3s ease, filter 0.3s ease;\n      filter: auto;\n      cursor: pointer;\n\n      &:hover {\n        scale: 1.05;\n        filter: brightness(0) saturate(100%) invert(5%) sepia(43%) saturate(7462%) hue-rotate(230deg) brightness(76%) contrast(111%);\n      }\n    }\n  }\n}\n\n.board {\n  position: relative;\n  box-sizing: content-box;\n\n  --cell-size: 50px;\n\n  width: calc(var(--cell-size) * 10);\n  height: calc(var(--cell-size) * 10);\n\n  &:hover {\n    cursor: url('./assets/images/target-small.svg') 16 16, pointer;\n  }\n  \n  &__map {\n    width: 100%;\n    height: 100%;\n\n    display: grid;\n    grid-template: repeat(10, 1fr) / repeat(10, 1fr);\n\n    .cell {\n      position: relative;\n      border: 1px solid #ffffff44;\n\n      &__state {\n        z-index: 2;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translateX(-50%) translateY(-50%);\n      }\n\n      &__state[src *= cross] {\n        filter: invert(1);\n        opacity: 0.4;\n        height: calc(0.8 * var(--cell-size));\n      }\n\n      &__state[src *= hit],\n      &__state[src *= sunk] {\n        height: calc(0.4 * var(--cell-size));\n      }\n\n      &__state[src *= hit] {\n        opacity: 0.8;\n        filter: drop-shadow(0 0 3px #ffffff77);\n      }\n\n      &__state[src *= sunk] {\n        opacity: 0.5;\n      }\n\n\n      .fog {\n        $directions: 'top', 'left', 'bottom', 'right';\n    \n        @each $direction in $directions {\n          --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 0%, #000000ff 100%);\n    \n          &--#{$direction} {\n            --mask-#{$direction}: linear-gradient(to #{$direction}, #000000ff 60%, #00000000 100%);\n          }\n        }\n    \n        height: var(--cell-size);\n        width: var(--cell-size);\n        background-image: url(./assets/images/fog-small.png);\n        \n        position: absolute;\n        overflow: hidden;\n        z-index: 3;\n        pointer-events: none;\n        opacity: 20%;\n        mask-image: var(--mask-top), var(--mask-left), var(--mask-bottom), var(--mask-right);\n        mask-composite: intersect;\n\n        // transition: opacity 0.1s ease;\n\n        &--hidden {\n          opacity: 0;\n        }\n      }\n    }\n  }\n\n  &__ships {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    pointer-events: none;\n\n    .ship {\n      --row: 0;\n      --col: 0;\n      --length: 2;\n      --isVertical: true;\n\n      --occupied-size: calc(var(--cell-size) * var(--length));\n      --ship-size: calc(0.95 * var(--occupied-size));\n\n      position: absolute;\n      top: calc(var(--cell-size) * var(--row));\n      left: calc(var(--cell-size) * var(--col));\n      height: var(--ship-size);\n      \n      opacity: 0.85;\n      overflow: hidden;\n      filter: brightness(0.8) contrast(1.1) drop-shadow(0px 0px 2px #00000077);\n\n      &--vertical {\n        transform: translateX(calc(var(--cell-size) / 2 - 50%))\n                   translateY(calc(var(--occupied-size) / 2 - 50%));\n\n      }\n      \n      &--horizontal {\n        transform: translateY(calc(var(--cell-size) / 2 - 50%))\n                   translateX(calc(var(--occupied-size) / 2 - 50%))\n                   rotate(90deg);\n      }\n\n      &--sunk {\n        opacity: 0.3;\n        filter: contrast(1.1) drop-shadow(0 0 0px #31acffcc);\n        transition: opacity 20s ease, filter 1s ease;\n      }\n\n      &--hover {\n        --ship-size: calc(1.03 * var(--occupied-size));\n        filter: brightness(0.9) contrast(1.1);\n\n        &.ship--sunk {\n          filter: brightness(1.1);\n        }\n      }\n    }\n  }\n\n  &__coor-lines {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 4;\n    pointer-events: none;\n\n    --row: 0;\n    --col: 0;\n    --thickness: calc(1 * var(--cell-size));\n    --dist-row: calc((var(--row) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --dist-col: calc((var(--col) + 0.5) * var(--cell-size) - 0.5 * var(--thickness));\n    --length: calc(var(--cell-size) * 10);\n\n    &__row,\n    &__col,\n    &__target {\n      position: absolute;\n      background-color: #18a4e6;\n      transition: top 0.05s ease, left 0.05s ease;\n    }\n\n    &__row {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: 0;\n\n      width: var(--length);\n      height: var(--thickness);\n    }\n\n    &__col {\n      opacity: 20%;\n\n      top: 0;\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--length);\n    }\n\n    &__target {\n      opacity: 20%;\n\n      top: var(--dist-row);\n      left: var(--dist-col);\n\n      width: var(--thickness);\n      height: var(--thickness);\n    }\n  }\n}\n"],sourceRoot:""}]);const v=g},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,A,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(i[r]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);a&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),A&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=A):c[4]="".concat(A)),n.push(c))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),A="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),s="/*# ".concat(A," */");return[n].concat([s]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var s={},i=[],o=0;o<e.length;o++){var r=e[o],l=a.base?r[0]+a.base:r[0],c=s[l]||0,p="".concat(l," ").concat(c);s[l]=c+1;var d=t(p),C={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==d)n[d].references++,n[d].updater(C);else{var h=A(C,a);a.byIndex=o,n.splice(o,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function A(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,A){var s=a(e=e||[],A=A||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=t(s[i]);n[o].references--}for(var r=a(e,A),l=0;l<s.length;l++){var c=t(s[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}s=r}}},659:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var A=void 0!==t.layer;A&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,A&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},859:(e,n,t)=>{e.exports=t.p+"src/assets/images/D Day Stencil..ttf"},463:(e,n,t)=>{e.exports=t.p+"src/assets/images/old_stamper..ttf"},756:(e,n,t)=>{e.exports=t.p+"src/assets/images/background..png"},220:(e,n,t)=>{e.exports=t.p+"src/assets/images/fog-small..png"},918:(e,n,t)=>{e.exports=t.p+"src/assets/images/fog..png"},694:(e,n,t)=>{e.exports=t.p+"src/assets/images/target-small..svg"}},n={};function t(a){var A=n[a];if(void 0!==A)return A.exports;var s=n[a]={id:a,exports:{}};return e[a](s,s.exports,t),s.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var A=a.length-1;A>-1&&(!e||!/^http(s?):/.test(e));)e=a[A--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(72),n=t.n(e),a=t(825),A=t.n(a),s=t(659),i=t.n(s),o=t(56),r=t.n(o),l=t(540),c=t.n(l),p=t(113),d=t.n(p),C=t(11),h={};h.styleTagTransform=d(),h.setAttributes=r(),h.insert=i().bind(null,"head"),h.domAPI=A(),h.insertStyleElement=c(),n()(C.A,h),C.A&&C.A.locals&&C.A.locals;class g{constructor(e){Object.assign(this,{length:1,hits:0},e)}hit(){this.hits++}isSunk(){return this.hits>=this.length}}class u{constructor(){this.init()}init(){this.shots=Array.from({length:10},(e=>Array(10).fill(!1))),this.shipMap=Array.from({length:10},(e=>Array(10).fill(null))),this.ships=[]}placeShip(e,n,t){const a=this.getShipLocations(e,n,t);if(!this.areShipCoordsLegal(a))return!1;const A=new g({name:e,length:a.length,firstCoord:a[0],shipCoords:a,isVertical:t});for(const[e,n]of a)this.shipMap[e][n]=A;return this.ships.push(A),!0}getShipLocations(e,n,t){const a=[],A={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2}[e]/2,s=Math.ceil(A)-1,i=Math.floor(A),o=+!t,r=n[1-o],l=n[o]-s,c=n[o]+i;for(let e=l;e<=c;e++){const n=t?[e,r]:[r,e];a.push(n)}return a}areShipCoordsLegal(e){for(const[n,t]of e){if(n<0||n>=10||t<0||t>=10)return!1;if(null!==this.shipMap[n][t])return!1}return!0}receiveAttack(e){let[n,t]=e;const a=this.shots[n][t],A=this.shipMap[n][t];return this.shots[n][t]=!0,A instanceof g&&!a&&(A.hit(),!0)}haveAllShipsSunk(){for(const e of this.ships)if(!e.isSunk())return!1;return!0}textDisplay(){let e="";const n="[00m";for(let t=0;t<10;t++){for(let n=0;n<10;n++){const a=this.shots[t][n]?" x":"  ";e+=null===this.shipMap[t][n]?`[44m${a}`:`[40m[31m${a}`}e+=`${n}\n`}return e+=n,e}randomlyPlaceShips(){this.init();const e=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"];for(const n of e){let e=!1;for(;!e;){const t=parseInt(10*Math.random()),a=parseInt(10*Math.random()),A=Math.random()>.5;e=this.placeShip(n,[t,a],A)}}}removeShipByCoor(e){let[n,t]=e;const a=this.shipMap[n][t];this.ships=this.ships.filter((e=>e!==a));for(const[e,n]of a.shipCoords)this.shipMap[e][n]=null}}class m{constructor(e){if(this.gameboard=new u,this.gameboard.randomlyPlaceShips(),Object.assign(this,{name:"Awaw",isAI:!1},e),this.isAI){this.legalMoves=[];for(let e=0;e<10;e++)for(let n=0;n<10;n++)this.legalMoves.push([e,n])}}getAImove(){if(!this.isAI)return null;const e=parseInt(Math.random()*this.legalMoves.length),n=this.legalMoves[e];return this.legalMoves=this.legalMoves.filter((e=>e!==n)),n}}const f=new class{constructor(){this.subscribers={}}subscribe(e,n){return Array.isArray(this.subscribers[e])?this.subscribers[e]=[...this.subscribers[e],n]:this.subscribers[e]=[n],()=>{this.unsubscribe(e,n)}}unsubscribe(e,n){this.subscribers[e]=this.subscribers[e].filter((e=>e!==n))}publish(e,n){return Array.isArray(this.subscribers[e])&&this.subscribers[e].forEach((e=>{e(n)})),!1}},b=new class{constructor(){this.PubSub=f}init(e){let{playersData:n,autoStart:t=!0,thinkingAI:a=!1,thinkingTime:A=2e3}=e;this.turn=0,this.status=-1,this._message="",this.players=[];for(const e of n)this.players.push(new m(e));t&&this.players[0].isAI&&setTimeout((()=>{this.makeAImove({targetInd:1})}),2e3),this.thinkingAI=a,this.thinkingTime=A,this.message=this.players[0].isAI?`Welcome to the battle! It is Captain ${this.players[0].name}'s turn.`:`Welcome to the battle! Your move, Captain ${this.players[0].name}.`}get message(){return this._message}set message(e){this._message=e,f.publish("message changed",e)}async makeMove(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=this.oppPlayer.gameboard,[A,s]=n,i=-1!==this.status,o=this.turn!==1-e,r=a.shots[A][s];if(f.publish("move attempted",{targetInd:e,coor:n}),i||o||r)return console.log(this.status,i,o,r),Promise.resolve(!1);if(a.receiveAttack(n)){if(a.haveAllShipsSunk())return this.status=this.turn,f.publish("gameover",this.turn),this.message=`Game over! Captain ${this.players[this.turn].name} has won the game.`,Promise.resolve(!0);if(a.shipMap[A][s].isSunk()){const e=a.shipMap[A][s].name;this.message=this.players[this.turn].isAI?`${e} down!`:`${e} down! Keep going...`}else this.message=this.players[this.turn].isAI?"It's a hit!":"It's a hit! Keep going..."}else{const e=this.players[1-this.turn];this.message=e.isAI?`It's a miss. Captain ${e.name} will strike soon.`:`It's a miss. Your move, Captain ${e.name}.`,this.turn^=1}return f.publish("move made",{targetInd:e,coor:n}),this.curPlayer.isAI?this.makeAImove({targetInd:e,mockAImove:t}):Promise.resolve(!0)}makeAImove(e){let{targetInd:n,mockAImove:t=null}=e;const a=1-this.turn,A=t?t(this.oppPlayer.gameboard):this.curPlayer.getAImove(),s=this.thinkingAI?n===this.turn?this.thinkingTime:this.thinkingTime/2:0;return f.publish("AI about to move",{newTarget:a,AImove:A,time:s}),new Promise((e=>{setTimeout((()=>{this.makeMove(a,A,t).then(e)}),s)}))}get curPlayer(){return this.players[this.turn]}get oppPlayer(){return this.players[1-this.turn]}};function y(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const A=document.createElement(e);""!==n&&A.classList.add(...n.split(" "));const s=document.createTextNode(t);A.appendChild(s);for(const[e,n]of Object.entries(a))A.setAttribute(e,n);return A}function x(e,n,t){return Array.from({length:e},(e=>Array(n).fill(t)))}const v=t.p+"src/assets/images/cross..svg",B=t.p+"src/assets/images/hit..svg",_=t.p+"src/assets/images/sunk..svg",E=t.p+"src/assets/images/Carrier-board..png",w=t.p+"src/assets/images/Battleship-board..png",k=t.p+"src/assets/images/Destroyer-board..png",z=t.p+"src/assets/images/Submarine-board..png",D=t.p+"src/assets/images/Patrol Boat-board..png",S=document.querySelector.bind(document),F=document.querySelectorAll.bind(document),L={Carrier:E,Battleship:w,Destroyer:k,Submarine:z,"Patrol Boat":D},$=["Carrier","Battleship","Destroyer","Submarine","Patrol Boat"],I={Carrier:5,Battleship:4,Destroyer:3,Submarine:3,"Patrol Boat":2},P=new class{constructor(){this.Game=b,this.playersData=[{isAI:!1,name:"Chester",gameboard:new u},{isAI:!1,name:"Wally",gameboard:new u}],this.fogList=[x(10,10,null),x(10,10,null)]}get humanCount(){return this.playersData.filter((e=>!e.isAI)).length}init(){S(".modal").showModal(),S(".home").classList.add("home--active");const e=[["Chester","Bobby"],["Paul","Wally"]],n=e=>{13===e.which&&(e.preventDefault(),document.activeElement.blur())};for(let a=0;a<2;a++){const A=S(`.player--${a} .player__name`);A.onkeyup=n,A.onkeydown=n,A.addEventListener("blur",(()=>{0===A.textContent.length&&(A.textContent=this.playersData[a].name),A.textContent.length>12&&(A.textContent=A.textContent.substring(0,12)),this.playersData[a].name=A.textContent}));for(let s=0;s<2;s++){const i=1===s?"true":"false";document.getElementById(`isAI-${a}-${i}`).addEventListener("click",(()=>{A.textContent=e[a][s]}))}}S(".play-btn").addEventListener("click",(()=>{S(".home").classList.remove("home--active");for(let e=0;e<2;e++){const n="true"===S(`input[name="isAI-${e}"]:checked`).value,t=S(`.player--${e} .player__name`).textContent;if(this.playersData[e]={...this.playersData[e],isAI:n,name:t},n){const n=new u;n.randomlyPlaceShips(),this.playersData[e].gameboard=n}}const e=(e,n,t)=>{const a=S(`.place--${e}`);a.classList.add("place--active");const A=a.querySelector(".place-btn");A.textContent=n,A.onclick=()=>{a.classList.remove("place--active"),t()}};switch(this.humanCount){case 0:this.restart();break;case 1:for(let n=0;n<2;n++)this.playersData[n].isAI||e(n,"Begin The Battle!",this.restart.bind(this));break;case 2:e(0,"Next Player",(()=>{e(1,"Begin The Battle!",this.restart.bind(this))}))}}));const t=S(".place");for(const o of[1,0]){const r=t.cloneNode(!0),l=r.querySelector.bind(r);r.classList.add(`place--${o}`),t.after(r);const c=l(".board__ships"),p=this.playersData[o].gameboard,d=l("#rotate-radio");function C(){l(".place-btn").disabled=5!==p.ships.length}function h(){p.randomlyPlaceShips();for(const e of p.ships){const n=l(`.ship[data-ship-name="${e.name}"]`),t=l(`.panel-ship:has(img[src*="${e.name}"])`);n.style.setProperty("--row",e.firstCoord[0]),n.style.setProperty("--col",e.firstCoord[1]),n.style.setProperty("--isVertical",e.isVertical),n.style.setProperty("--length",e.length),n.classList.remove("ship--vertical"),n.classList.remove("ship--horizontal"),n.classList.add("ship--"+(e.isVertical?"vertical":"horizontal")),t.classList.add("panel-ship--placed"),n.classList.remove("ship--hidden")}C()}l(".shuffle-btn").onclick=h;let g=d.checked;const m=e=>e?"vertical":"horizontal";l(".rotate-btn").addEventListener("click",(()=>{d.checked=!d.checked,l(".rotate-btn__icon--active").classList.remove("rotate-btn__icon--active"),l(`.rotate-btn__icon[src*=${m(d.checked)}]`).classList.add("rotate-btn__icon--active"),g=d.checked}));let f=null;function x(e){v(),f=setTimeout(e,100)}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==f&&(clearTimeout(f),null!==e&&e())}for(const B of $){const _=y("img","ship","",{src:L[B],"data-ship-name":B});_.setAttribute("data-ship-name",B),_.style.setProperty("--row",0),_.style.setProperty("--col",0),_.style.setProperty("--length",I[B]),_.classList.add("ship--hidden"),c.appendChild(_);const E=l(`.panel-ship:has(img[src*="${B}"])`),w=l(".board");let k,z,D,F;const P=e=>(G(),[Math.floor((e.clientY-z)/32),Math.floor((e.clientX-k)/32)]),G=()=>{({left:k,top:z,right:D,bottom:F}=w.getBoundingClientRect())},Y=e=>{e.stopPropagation(),G(),window.addEventListener("resize",G);const n=e=>{if(!_.classList.contains("ship--selected"))return;_.classList.remove("ship--allowed"),_.classList.remove("ship--vertical"),_.classList.remove("ship--horizontal"),_.classList.remove("ship--locked");let{width:n,height:t}=_.getBoundingClientRect();g||([n,t]=[t,n]),G();let a=(e.clientX-k-n/2)/32,A=(e.clientY-z-t/2)/32;if((e=>{let{clientX:n,clientY:t}=e;return G(),k<n&&n<D&&z<t&&t<F})(e)){_.classList.add("ship--locked");const[n,t]=P(e),s=p.getShipLocations(B,[n,t],g);[A,a]=s[0],p.areShipCoordsLegal(s)&&_.classList.add("ship--allowed")}_.style.setProperty("--row",A),_.style.setProperty("--col",a),_.style.setProperty("--isVertical",g),_.style.setProperty("--length",I[B]),_.classList.add(`ship--${m(g)}`)};function t(){const e=l(".ship--selected");if(null===e)return;const t=e.getAttribute("data-ship-name");l(`.panel-ship:has(img[src*="${t}"])`).classList.remove("panel-ship--placed"),e.classList.remove("ship--selected"),e.classList.remove("ship--allowed"),e.classList.remove("ship--locked"),e.classList.add("ship--hidden"),window.removeEventListener("mousemove",n),l(".rotate-btn").removeEventListener("click",n),E.onclick=e=>{E.classList.contains("panel-ship--placed")||Y(e)}}w.onmouseup=function(e){if(e.stopPropagation(),_.classList.contains("ship--allowed")){_.classList.remove("ship--selected"),_.classList.remove("ship--locked"),_.classList.remove("ship--allowed"),window.removeEventListener("mousemove",n),l(".rotate-btn").removeEventListener("click",n),w.onclick=null;const[[t,a],A]=[P(e),"true"===_.style.getPropertyValue("--isVertical")];p.placeShip(B,[t,a],A)}C()},w.onclick=e=>e.stopPropagation(),t(),window.addEventListener("click",t),E.classList.add("panel-ship--placed"),_.classList.add("ship--selected"),_.classList.remove("ship--hidden"),n(e),window.addEventListener("mousemove",n),l(".rotate-btn").addEventListener("click",(e=>{e.stopPropagation(),n(e)})),l(".shuffle-btn").addEventListener("click",(()=>{t(),h()}))},U=e=>{E.classList.contains("panel-ship--placed")||Y(e)};function M(e){null===l(".ship--selected")&&(e.stopPropagation(),p.removeShipByCoor(P(e)),g=_.classList.contains("ship--vertical"),g!==d.checked&&l(".rotate-btn").click(),Y(e),C())}E.onclick=U,E.addEventListener("mousedown",(e=>{E.classList.contains("panel-ship--placed")||x(Y.bind(this,e))})),_.onclick=M,_.addEventListener("mousedown",(e=>{x(M.bind(this,e))}))}}for(let W=0;W<2;W++){const j=S(`.area--${W} .board__map`),J=S(`.area--${W} .board__coor-lines`),q=S(`.place--${W} .board__map`);for(let O=0;O<10;O++)for(let K=0;K<10;K++){const T=y("div","cell","",{"data-id":W}),N=y("img","cell__state");T.appendChild(N);const Q=y("div","fog","");this.fogList[W][O][K]=Q,T.appendChild(Q),T.addEventListener("mouseover",(()=>{b.players[1-W].isAI||(J.style.setProperty("--row",O),J.style.setProperty("--col",K))})),j.appendChild(T),q.appendChild(T.cloneNode(!0)),T.addEventListener("click",(()=>{b.players[1-W].isAI||b.makeMove(W,[O,K])}))}}b.PubSub.subscribe("move attempted",(e=>{this.update()})),b.PubSub.subscribe("move made",(e=>{this.update()})),b.PubSub.subscribe("gameover",(e=>{this.update(),S(".game").classList.add("game--over")})),b.PubSub.subscribe("message changed",(e=>{const n=S(".message-box__text");n.style.animation="none",n.textContent=e,n.style.animation="none",n.offsetHeight,n.style.animation=null})),b.PubSub.subscribe("AI about to move",(e=>{let{newTarget:n,AImove:[t,a],time:A}=e;const s=S(`.area--${n} .board__coor-lines`);s.style.setProperty("--speed",.9*A/1e3+"s"),setTimeout((()=>{s.style.setProperty("--row",t),s.style.setProperty("--col",a)}),100)}))}restart(){S(".modal").close(),S(".game").classList.add("game--active"),b.init({playersData:this.playersData,thinkingAI:!0});for(let e=0;e<2;e++){S(".game").className="game game--active",S(`.area--${e} .board__ships`).textContent="",S(`.area--${e} .area__name`).textContent=b.players[e].name;const n=S(`.area--${e}`),t=b.players[1-e].isAI?"ai":"human";switch(n.className=`area area--${e} area--vs-${t}`,0===e&&n.classList.add("area--turn"),this.humanCount){case 1:b.players[e].isAI||n.classList.add("area--pov");break;case 0:case 2:0===e&&n.classList.add("area--pov")}F(`.area--${e} .fog`).forEach((e=>{e.className="fog"})),F(".game .panel-ship").forEach((e=>{e.className="panel-ship"}));const a=S(`.area--${e} .board__ships`);for(const n of b.players[e].gameboard.ships){const e=y("img","ship","",{src:L[n.name],"data-ship-name":n.name});e.style.setProperty("--row",n.firstCoord[0]),e.style.setProperty("--col",n.firstCoord[1]),e.style.setProperty("--length",n.length),e.classList.add(n.isVertical?"ship--vertical":"ship--horizontal"),a.appendChild(e)}for(const n of $){const t=S(`.area--${e} .panel-ships img[src*="${n}"]`),a=S(`.area--${e} .ship[data-ship-name="${n}"]`);t.addEventListener("mouseover",(()=>{a.classList.add("ship--hover")})),t.addEventListener("mouseleave",(()=>{a.classList.remove("ship--hover")}))}for(let n=0;n<10;n++)for(let t=0;t<10;t++){const a=this.fogList[e][n][t];a.className="fog",0===n&&a.classList.add("fog--top"),9===n&&a.classList.add("fog--bottom"),0===t&&a.classList.add("fog--left"),9===t&&a.classList.add("fog--right")}}this.update()}update(){for(let e=0;e<2;e++){const n=this.Game.players[e].gameboard,t=S(`.area--${e} .board__map`).children;S(".area--turn").classList.remove("area--turn"),F(".area")[b.turn].classList.add("area--turn"),1!==this.humanCount&&(S(".area--pov").classList.remove("area--pov"),F(".area")[b.turn].classList.add("area--pov"));for(const n of b.players[e].gameboard.ships)if(n.isSunk()){const t=S(`.area--${e} .ship[data-ship-name="${n.name}"]`),a=S(`.area--${e} .panel-ship:has(img[src*="${n.name}"])`);t.classList.add("ship--sunk"),a.classList.add("panel-ship--sunk")}for(let a=0;a<10;a++)for(let A=0;A<10;A++){const s=t.item(10*a+A);if(n.shots[a][A]){const t=n.shipMap[a][A],i=null===t?v:t.isSunk()?_:B;s.querySelector(".cell__state").setAttribute("src",i),this.fogList[e][a][A].classList.add("fog--hidden");const o={"fog--top":[1,0],"fog--left":[0,1],"fog--bottom":[-1,0],"fog--right":[0,-1]};for(const[n,t]of Object.entries(o)){const s=a+t[0],i=A+t[1];s<0||s>=10||i<0||i>=10||this.fogList[e][s][i].classList.add(n)}}else s.querySelector(".cell__state").setAttribute("src","")}}}printBoardStates(){for(const e of b.players)console.log(e.name),console.log(e.gameboard.textDisplay()),console.log(" ")}};window.globals={},document.querySelector.bind(document),window.globals.Game=P.Game,window.globals.DisplayManager=P,P.init()})()})();
//# sourceMappingURL=app.bundle.js.map